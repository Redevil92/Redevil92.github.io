"use strict";(self["webpackChunkmy_portfolio"]=self["webpackChunkmy_portfolio"]||[]).push([[1475,6649],{1475:function(e,t,i){i.r(t),i.d(t,{default:function(){return y}});var l=i(3396),n=i(9242),a=i(7139);const o=["id"],s={class:"folder-actions"},r=["onClick"];function d(e,t,i,d,c,m){const p=(0,l.up)("FolderItemsList"),u=(0,l.up)("DropExternalFileZone");return(0,l.wg)(),(0,l.iD)("div",{onContextmenu:t[4]||(t[4]=(0,n.iM)((t=>e.openActionMenu(t,!0)),["right"])),class:"droppable",id:e.itemDialog.path},[(0,l._)("div",{class:"folder-item-container",onMousedown:t[3]||(t[3]=(...t)=>e.deselectItem&&e.deselectItem(...t)),style:(0,a.j5)(`height:${e.height-5}px`)},[(0,l._)("div",s,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.filePathSplitted,((t,i)=>((0,l.wg)(),(0,l.iD)("span",{key:"path-"+i+"-"+t},[(0,l._)("span",{class:"path-item",onClick:t=>e.updateItemDialogPath(e.buildPath(e.filePathSplitted,i))},(0,a.zw)(t),9,r),(0,l.Uk)((0,a.zw)(e.filePathSplitted.length>i+1?" > ":""),1)])))),128))]),(0,l.Wm)(u,{dropPath:e.itemDialog.path},{default:(0,l.w5)((()=>[(0,l._)("div",{onMouseover:t[0]||(t[0]=t=>e.isMouseOver=!0),onMouseleave:t[1]||(t[1]=t=>e.isMouseOver=!1),onDrop:t[2]||(t[2]=(...t)=>e.dropFilehandler&&e.dropFilehandler(...t)),class:(0,a.C_)(["folder-item-list",{"folder-item-list-drag-over":e.isDraggingItem&&e.isMouseOver}]),style:(0,a.j5)(`height:${e.height-29}px`),ref:"folderContentRef"},[(0,l.Wm)(p,{itemsList:e.itemDialog.filesPath,canRename:!0,showProperties:!0,isFocused:e.itemDialog.isFocused,onOnDoubleClick:e.doubleClickHandler,onOnRightClick:e.rightClickItemHandler,onRenameFileHandler:e.renameFileHandler,onOnTryDeleteItem:e.tryDeleteItem},null,8,["itemsList","isFocused","onOnDoubleClick","onOnRightClick","onRenameFileHandler","onOnTryDeleteItem"])],38)])),_:1},8,["dropPath"])],36)],40,o)}var c=i(7103),m=i(4870),p=i(4273),u=i(6649),g=i(7401),h=i(8417),f=i(7695),v=(0,l.aZ)({props:{itemDialog:Object,height:Number},components:{DropExternalFileZone:p.Z,FolderItemsList:u["default"]},emits:[],setup(e,t){const i=(0,f.H)(),n=(0,m.iH)(null),a=(0,m.iH)(!1),{moveFilesInFolder:o,setFilesToMove:s}=(0,h.Z)(),r=(0,l.Fl)((function(){return""!==i.dragginPath})),d=async e=>{const t=await(0,c.zj)(e);if(t)w(e);else{const t={path:e,coordinates:{x:0,y:0},isSelected:!0};i.createItemDialog(t)}},p=e=>{u(e.event,!1,e.filePath)},u=(t,l=!1,n)=>{t.preventDefault(),t.stopPropagation();const a=t;i.setActionMenu({show:!0,paths:n?[n]:[e.itemDialog?.path],position:{x:a.clientX,y:a.clientY},isOpenedFolder:l})},v=async t=>{o(t,e.itemDialog?.path||"")},w=t=>{i.updateItemDialogName({newPath:t,itemDialog:e.itemDialog})},F=e=>{i.renameFile(e.newName,e.oldName),y()},y=()=>{i.refreshAllItemDialogFiles(),i.fetchDesktopItems()},D=(0,l.Fl)((function(){return e.itemDialog?.path.split("/")})),C=(e,t)=>{let i="";for(let l=0;l<=t;l++)0!==l&&(i+="/"),i+=e[l];return i},k=async e=>{await i.deleteFileSystemItem(e),y()},H=e=>{if(r.value){const t=n.value?.getBoundingClientRect();t&&e.clientX<t.x+t.width&&e.clientX>t.x&&e.clientY<t.y+t.height&&e.clientY>t.y?a.value=!0:a.value=!1}};return(0,l.bv)((()=>{window.addEventListener("mousemove",H)})),(0,l.se)((()=>{window.removeEventListener("mousemove",H)})),{getFileNameFromPath:g.Bc,doubleClickHandler:d,tryDeleteItem:k,isDir:c.zj,getFileExtensionFromName:g.vj,updateItemDialogPath:w,buildPath:C,rightClickItemHandler:p,renameFileHandler:F,openActionMenu:u,dropFilehandler:v,setFilesToMove:s,folderContentRef:n,filePathSplitted:D,isDraggingItem:r,isMouseOver:a}}}),w=i(89);const F=(0,w.Z)(v,[["render",d],["__scopeId","data-v-16094db2"]]);var y=F},6649:function(e,t,i){i.r(t),i.d(t,{default:function(){return B}});var l=i(3396),n=i(7139),a=i(9242);const o=e=>((0,l.dD)("data-v-ba70c8fe"),e=e(),(0,l.Cn)(),e),s={key:0,class:"flex-align-center table-header"},r=o((()=>(0,l._)("div",{style:{"flex-grow":"1"}},"Name",-1))),d=o((()=>(0,l._)("div",{style:{width:"170px"}},"Date modified",-1))),c=o((()=>(0,l._)("div",{style:{width:"100px"}},"Size",-1))),m=[r,d,c],p=["onDblclick","onMousedown","onContextmenu"],u={key:0},g={style:{"flex-grow":"1"}},h={key:0},f={key:1,class:"file-text noselect"},v={key:0,class:"prop-field",style:{width:"170px"}},w={key:1,class:"prop-field",style:{width:"100px"}},F={class:"footer flex"},y={class:"items-count"};function D(e,t,i,o,r,d){const c=(0,l.up)("FileIcon");return(0,l.wg)(),(0,l.iD)("div",{class:(0,n.C_)(["container",{"grid-container":"preview"===e.viewType}])},[(0,l._)("span",{class:"input-placeholder",ref:"fileNameToChangeSpanRef"},(0,n.zw)(e.getFileNameFromPath(e.fileNameToChange)),513),"list"===e.viewType&&e.showProperties?((0,l.wg)(),(0,l.iD)("div",s,m)):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.itemsListWithProperties,((i,o)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,n.C_)({"cut-item":e.isCutFile(i.path)}),key:`item-${o}-${i.path}`,onDblclick:t=>e.doubleClickHandler(i.path),onMousedown:(0,a.iM)((t=>e.itemClickHandler(i.path)),["stop"]),onContextmenu:(0,a.iM)((t=>e.rightClickHandler(t,i.path)),["right"])},["preview"===e.viewType?((0,l.wg)(),(0,l.iD)("div",u,[(0,l.Wm)(c,{selected:i.path===e.selectedItem,height:60,filePath:i.path},null,8,["selected","filePath"]),(0,l._)("div",{class:(0,n.C_)([i.path===e.selectedItem?"file-text-preview-selected":"","file-text-preview"])},[i.path===e.selectedItem&&e.isEditingSelectedValue&&e.canRename?(0,l.wy)(((0,l.wg)(),(0,l.iD)("textarea",{key:0,ref_for:!0,ref:"fileNameInputRef",onKeyup:t[0]||(t[0]=(0,a.D2)(((...t)=>e.renameFileHandler&&e.renameFileHandler(...t)),["enter"])),onBlur:t[1]||(t[1]=(...t)=>e.changeFileName&&e.changeFileName(...t)),rows:"2",class:"no-outline file-text-preview","onUpdate:modelValue":t[2]||(t[2]=t=>e.fileNameToChange=t)},null,544)),[[a.nr,e.fileNameToChange]]):((0,l.wg)(),(0,l.iD)("div",{key:1,class:"file-text-preview",onClick:t[3]||(t[3]=(...t)=>e.setIsEditingText&&e.setIsEditingText(...t))},(0,n.zw)(e.getFileNameFromPath(i.path)),1))],2)])):(0,l.kq)("",!0),"list"===e.viewType?((0,l.wg)(),(0,l.iD)("div",{key:1,class:(0,n.C_)(["flex-align-center list-folder-item",{"selected-item":i.path===e.selectedItem}]),draggable:"true",onDragstart:t[8]||(t[8]=(...t)=>e.dragStartHandler&&e.dragStartHandler(...t))},[(0,l.Wm)(c,{class:"file-icon",noStyle:!0,height:18,filePath:i.path},null,8,["filePath"]),(0,l._)("div",g,[i.path===e.selectedItem&&e.isEditingSelectedValue&&e.canRename?((0,l.wg)(),(0,l.iD)("span",h,[(0,l.wy)((0,l._)("input",{ref_for:!0,ref:"fileNameInputRef",class:"file-text no-outline","onUpdate:modelValue":t[4]||(t[4]=t=>e.fileNameToChange=t),onKeyup:[t[5]||(t[5]=(0,a.D2)(((...t)=>e.renameFileHandler&&e.renameFileHandler(...t)),["enter"])),t[7]||(t[7]=(0,a.D2)((t=>e.isEditingSelectedValue=!1),["esc"]))],onBlur:t[6]||(t[6]=(...t)=>e.renameFileHandler&&e.renameFileHandler(...t)),type:"text",style:(0,n.j5)(`width:${e.fileFocusedWidth}px`)},null,36),[[a.nr,e.fileNameToChange]])])):((0,l.wg)(),(0,l.iD)("span",f,(0,n.zw)(e.getFileNameFromPath(i.path)),1))]),e.showProperties?((0,l.wg)(),(0,l.iD)("div",v,(0,n.zw)(e.formatStringDate(i.properties.ctime,e.dateFormat))+" "+(0,n.zw)(e.formatTimeFromStringDate(i.properties.ctime,e.timeFormat)),1)):(0,l.kq)("",!0),e.showProperties?((0,l.wg)(),(0,l.iD)("div",w,(0,n.zw)(e.formatBytes(i.properties.size)),1)):(0,l.kq)("",!0)],34)):(0,l.kq)("",!0)],42,p)))),128)),(0,l._)("div",F,[(0,l._)("div",y,(0,n.zw)(e.itemsList.length)+" item"+(0,n.zw)(e.itemsList.length>1?"s":""),1),(0,l._)("div",null,[(0,l._)("span",{class:(0,n.C_)(["mdi mdi-format-list-bulleted preview-icon",{"preview-icon-selected":"list"===e.viewType}]),onClick:t[9]||(t[9]=t=>e.viewType="list")},null,2),(0,l._)("span",{class:(0,n.C_)(["mdi mdi-card-outline preview-icon",{"preview-icon-selected":"preview"===e.viewType}]),onClick:t[10]||(t[10]=t=>e.viewType="preview")},null,2)])])],2)}var C=i(4870),k=i(7401),H=i(8097),I=i(7695),x=i(7103);const P=(e,t=2)=>{if(!+e)return"0 Bytes";const i=1024,l=t<0?0:t,n=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(e)/Math.log(i));return`${parseFloat((e/Math.pow(i,a)).toFixed(l))} ${n[a]}`},S=(e,t)=>{const i=new Date(e),l=i.getDay()<10?"0"+i.getDay().toString():i.getDay().toString(),n=i.getMonth()<10?"0"+i.getMonth().toString():i.getMonth().toString(),a=i.getFullYear().toString();return t.replace("DD",l).replace("MM",n).replace("YYYY",a)},M=(e,t)=>{const i=new Date(e),l=t.includes("XM"),n=i.getSeconds()<10?"0"+i.getSeconds().toString():i.getSeconds().toString(),a=i.getMinutes()<10?"0"+i.getMinutes().toString():i.getMinutes().toString();let o=i.getHours(),s="";return l&&(s=o>=12?"pm":"am",o%=12,o=o||12),t.replace("HH",o.toString()).replace("MM",a).replace("SS",n).replace("XM",s)};var _=i(5636),T=(0,l.aZ)({props:{itemsList:{type:Array,required:!0},isFocused:Boolean,canRename:Boolean,showProperties:{type:Boolean,default:!1}},components:{FileIcon:H.Z},emits:["onDoubleClick","onRightClick","renameFileHandler","onTryDeleteItem"],setup(e,t){const i=(0,I.H)(),n=(0,_.F)(),a=(0,C.iH)("list"),o=(0,C.iH)(""),s=(0,C.iH)(!1),r=(0,C.iH)(""),d=(0,C.iH)(null),c=(0,C.iH)(null),m=(0,C.iH)(200),p=(0,C.iH)([]),u=(0,l.Fl)((()=>n.timeFormat)),g=(0,l.Fl)((()=>n.dateFormat)),h=async()=>{const t=[];for(const i of e.itemsList){const l=e.showProperties?await(0,x.WG)(i):void 0;t.push({path:i,properties:l})}p.value=t};(0,l.m0)((async()=>{e.itemsList&&await h()}));const f=e=>{const t=i.filePathsToCut;return!!t.includes(e)},v=async t=>{t!==o.value?(o.value=t,s.value=!1):!s.value&&e.canRename&&(r.value=(0,k.Bc)(t),setTimeout((async()=>{s.value=!s.value}),600))},w=async e=>{s.value||t.emit("onDoubleClick",e)},F=(e,i)=>{t.emit("onRightClick",{event:e,filePath:i})},y=()=>{t.emit("renameFileHandler",{newName:(0,k.bn)(o.value)+"/"+r.value,oldName:o.value})},D=()=>{o.value="",s.value=!1},H=i=>{if(e.isFocused&&o.value&&e.itemsList)if("Delete"===i.code&&o.value)t.emit("onTryDeleteItem",o.value);else if("ArrowDown"===i.code){const t=e.itemsList.findIndex((e=>e===o.value));-1!==t&&e.itemsList.length>t+1&&(o.value=e.itemsList[t+1])}else if("ArrowUp"===i.code){const t=e.itemsList.findIndex((e=>e===o.value));t>0&&(o.value=e.itemsList[t-1])}};return(0,l.bv)((async()=>{window.addEventListener("keydown",H),await h()})),(0,l.se)((()=>{window.removeEventListener("keydown",H)})),{getFileNameFromPath:k.Bc,getFileExtensionFromName:k.vj,itemClickHandler:v,doubleClickHandler:w,rightClickHandler:F,deselectItem:D,isCutFile:f,renameFileHandler:y,formatBytes:P,formatStringDate:S,formatTimeFromStringDate:M,viewType:a,dateFormat:g,timeFormat:u,itemsListWithProperties:p,selectedItem:o,isEditingSelectedValue:s,fileNameToChange:r,fileNameInputRef:d,fileNameToChangeSpanRef:c,fileFocusedWidth:m}}}),N=i(89);const b=(0,N.Z)(T,[["render",D],["__scopeId","data-v-ba70c8fe"]]);var B=b}}]);
//# sourceMappingURL=1475.cd70a470.js.map