{"version":3,"file":"js/1568.511fc573.js","mappings":"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","sources":["webpack://my-portfolio/./node_modules/vue-loader/dist/templateLoader.js","webpack://my-portfolio/./node_modules/vue-loader/dist/index.js","webpack://my-portfolio/./src/components/apps/FolderItem.vue"],"sourcesContent":["import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, vModelText as _vModelText, withKeys as _withKeys, normalizeStyle as _normalizeStyle, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, normalizeClass as _normalizeClass, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-10c8bcfa\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"id\"]\nconst _hoisted_2 = { class: \"folder-actions\" }\nconst _hoisted_3 = [\"onClick\"]\nconst _hoisted_4 = [\"onDblclick\", \"onMousedown\", \"onContextmenu\"]\nconst _hoisted_5 = { key: 0 }\nconst _hoisted_6 = {\n  key: 1,\n  class: \"file-text noselect\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_FileIcon = _resolveComponent(\"FileIcon\")!\n  const _component_DropExternalFileZone = _resolveComponent(\"DropExternalFileZone\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    onContextmenu: _cache[9] || (_cache[9] = _withModifiers(($event: any) => (_ctx.openActionMenu($event, true)), [\"right\"])),\n    class: \"droppable\",\n    id: _ctx.itemDialog.path\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"folder-item-container\",\n      onMousedown: _cache[8] || (_cache[8] = \n//@ts-ignore\n(...args) => (_ctx.deselectItem && _ctx.deselectItem(...args))),\n      style: _normalizeStyle(`height:${_ctx.height - 5}px`)\n    }, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.filePathSplitted, (path, index) => {\n          return (_openBlock(), _createElementBlock(\"span\", {\n            key: 'path-' + index + '-' + path\n          }, [\n            _createElementVNode(\"span\", {\n              class: \"path-item\",\n              onClick: ($event: any) => (_ctx.updateItemDialogPath(_ctx.buildPath(_ctx.filePathSplitted, index)))\n            }, _toDisplayString(path), 9, _hoisted_3),\n            _createTextVNode(_toDisplayString(_ctx.filePathSplitted.length > index + 1 ? \" > \" : \"\"), 1)\n          ]))\n        }), 128))\n      ]),\n      _createVNode(_component_DropExternalFileZone, {\n        dropPath: _ctx.itemDialog.path\n      }, {\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", {\n            onMouseover: _cache[5] || (_cache[5] = ($event: any) => (_ctx.isMouseOver = true)),\n            onMouseleave: _cache[6] || (_cache[6] = ($event: any) => (_ctx.isMouseOver = false)),\n            onDrop: _cache[7] || (_cache[7] = \n//@ts-ignore\n(...args) => (_ctx.dropFilehandler && _ctx.dropFilehandler(...args))),\n            class: _normalizeClass([\"folder-item-list\", { 'folder-item-list-drag-over': _ctx.isDraggingItem && _ctx.isMouseOver }]),\n            style: _normalizeStyle(`height:${_ctx.height - 35}px`),\n            ref: \"folderContentRef\"\n          }, [\n            _createElementVNode(\"span\", {\n              class: \"input-placeholder\",\n              ref: \"fileNameToChangeSpanRef\"\n            }, _toDisplayString(_ctx.getFileNameFromPath(_ctx.fileNameToChange)), 513),\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.itemDialog.filesPath, (item, index) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                id: \"drop_zone\",\n                class: _normalizeClass([\"folder-item\", {\r\n              'folder-item-even': index % 2 === 1,\r\n              'selected-item': item === _ctx.selectedItem,\r\n              'cut-item': _ctx.isCutFile(item),\r\n            }]),\n                key: `item-${index}-${item}`,\n                onDblclick: ($event: any) => (_ctx.doubleClickHandler(item)),\n                onMousedown: _withModifiers(($event: any) => (_ctx.itemClickHandler(item)), [\"stop\"]),\n                onContextmenu: _withModifiers(($event: any) => (_ctx.openActionMenu($event, false, item)), [\"right\"])\n              }, [\n                _createElementVNode(\"div\", {\n                  class: \"flex-align-center\",\n                  draggable: \"true\",\n                  onDragstart: _cache[4] || (_cache[4] = ($event: any) => (_ctx.setFilesToMove([_ctx.selectedItem])))\n                }, [\n                  _createVNode(_component_FileIcon, {\n                    noStyle: true,\n                    height: 16,\n                    filePath: item\n                  }, null, 8, [\"filePath\"]),\n                  _createElementVNode(\"div\", null, [\n                    (item === _ctx.selectedItem && _ctx.isEditingSelectedValue)\n                      ? (_openBlock(), _createElementBlock(\"span\", _hoisted_5, [\n                          _withDirectives(_createElementVNode(\"input\", {\n                            ref_for: true,\n                            ref: \"fileNameInputRef\",\n                            class: \"file-text no-outline\",\n                            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.fileNameToChange) = $event)),\n                            onKeyup: [\n                              _cache[1] || (_cache[1] = _withKeys(\n//@ts-ignore\n(...args) => (_ctx.changeFileName && _ctx.changeFileName(...args)), [\"enter\"])),\n                              _cache[3] || (_cache[3] = _withKeys(($event: any) => (_ctx.isEditingSelectedValue = false), [\"esc\"]))\n                            ],\n                            onBlur: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.changeFileName && _ctx.changeFileName(...args))),\n                            type: \"text\",\n                            style: _normalizeStyle(`width:${_ctx.fileFocusedWidth}px`)\n                          }, null, 36), [\n                            [_vModelText, _ctx.fileNameToChange]\n                          ])\n                        ]))\n                      : (_openBlock(), _createElementBlock(\"span\", _hoisted_6, _toDisplayString(_ctx.getFileNameFromPath(item)), 1))\n                  ])\n                ], 32)\n              ], 42, _hoisted_4))\n            }), 128))\n          ], 38)\n        ]),\n        _: 1\n      }, 8, [\"dropPath\"])\n    ], 36)\n  ], 40, _hoisted_1))\n}","\r\nimport { isDir } from \"@/context/fileSystemController\";\r\nimport { computed, defineComponent, nextTick, onDeactivated, onMounted, PropType, ref, watch } from \"vue\";\r\n\r\nimport { getFileExtensionFromName, getFileNameFromPath } from \"@/context/fileSystemUtils\";\r\nimport DropExternalFileZone from \"@/components/shared/DropExtenalFilesZone.vue\";\r\nimport FileIcon from \"@/components/shared/FileIcon.vue\";\r\nimport useMoveFiles from \"@/hooks/useMoveFilesIntoFolders\";\r\nimport { useFileSystemStore } from \"@/stores/fileSystemStore\";\r\n\r\nimport DesktopItem from \"@/models/DesktopItem\";\r\nimport ActionMenu from \"@/models/ActionMenu\";\r\nimport ItemDialog from \"@/models/ItemDialog\";\r\n\r\nexport default defineComponent({\r\n  props: {\r\n    itemDialog: Object as PropType<ItemDialog>,\r\n    height: Number,\r\n  },\r\n  components: { DropExternalFileZone, FileIcon },\r\n  emits: [],\r\n  setup(props, _) {\r\n    const fileSystemStore = useFileSystemStore();\r\n\r\n    const folderContentRef = ref<HTMLElement | null>(null);\r\n    const isMouseOver = ref(false as boolean);\r\n\r\n    const { moveFilesInFolder, setFilesToMove } = useMoveFiles();\r\n\r\n    const isDraggingItem = computed(function () {\r\n      return fileSystemStore.dragginPath !== \"\";\r\n    });\r\n\r\n    const doubleClickHandler = async (fileName: string) => {\r\n      const isDirectory = await isDir(fileName);\r\n      if (isDirectory && !isEditingSelectedValue.value) {\r\n        updateItemDialogPath(fileName);\r\n      } else {\r\n        const newItemDialog = {\r\n          path: fileName,\r\n          coordinates: { x: 0, y: 0 },\r\n\r\n          isSelected: true,\r\n        } as DesktopItem;\r\n        fileSystemStore.createItemDialog(newItemDialog);\r\n      }\r\n    };\r\n\r\n    const openActionMenu = (event: any, isOpenedFolder = false, customPath?: string) => {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      const pointerEvent = event as PointerEvent;\r\n\r\n      fileSystemStore.setActionMenu({\r\n        show: true,\r\n        paths: customPath ? [customPath] : [props.itemDialog?.path],\r\n        position: { x: pointerEvent.clientX, y: pointerEvent.clientY },\r\n        isOpenedFolder: isOpenedFolder,\r\n      } as ActionMenu);\r\n    };\r\n\r\n    const dropFilehandler = async (event: Event) => {\r\n      moveFilesInFolder(event, props.itemDialog?.path || \"\");\r\n    };\r\n\r\n    const updateItemDialogPath = (fileName: string) => {\r\n      fileSystemStore.updateItemDialogName({ newPath: fileName, itemDialog: props.itemDialog as ItemDialog });\r\n    };\r\n\r\n    // *** ITEM SELECTION AND CHANGE NAME\r\n    const selectedItem = ref(\"\");\r\n    const isEditingSelectedValue = ref(false);\r\n    const fileNameToChange = ref(\"\");\r\n    const fileNameInputRef = ref(null);\r\n    const fileNameToChangeSpanRef = ref(null);\r\n\r\n    const fileFocusedWidth = ref(200);\r\n\r\n    const isCutFile = (itemName: string) => {\r\n      const filesToCut = fileSystemStore.filePathsToCut;\r\n      if (filesToCut.includes(itemName)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    watch(fileNameToChange, async function (_2: any, _3: any) {\r\n      await nextTick();\r\n      if (!fileNameToChangeSpanRef.value) {\r\n        fileFocusedWidth.value = 300;\r\n      }\r\n      fileFocusedWidth.value = Math.min(\r\n        (fileNameToChangeSpanRef.value as unknown as HTMLElement).getBoundingClientRect().width,\r\n        props.itemDialog ? props.itemDialog?.dimension.width - 30 : 200\r\n      );\r\n    });\r\n\r\n    const itemClickHandler = async (fileName: string) => {\r\n      if (!props.itemDialog?.isFocused) {\r\n        fileSystemStore.setFocusedItemDialog(props.itemDialog as ItemDialog);\r\n      }\r\n      if (fileName === selectedItem.value) {\r\n        if (!isEditingSelectedValue.value) {\r\n          fileNameToChange.value = getFileNameFromPath(fileName);\r\n          setTimeout(async () => {\r\n            isEditingSelectedValue.value = !isEditingSelectedValue.value;\r\n            await selectInputText();\r\n          }, 600);\r\n        }\r\n        return;\r\n      }\r\n      selectedItem.value = fileName;\r\n      isEditingSelectedValue.value = false;\r\n    };\r\n\r\n    const deselectItem = () => {\r\n      selectedItem.value = \"\";\r\n      isEditingSelectedValue.value = false;\r\n    };\r\n\r\n    const selectInputText = async () => {\r\n      setTimeout(async () => {\r\n        if (fileNameInputRef.value) {\r\n          console.log(\"INPUT REF\", fileNameInputRef.value);\r\n        }\r\n      }, 2000);\r\n    };\r\n\r\n    const changeFileName = () => {\r\n      const newName = props.itemDialog?.path + \"/\" + fileNameToChange.value;\r\n\r\n      fileSystemStore.renameFile(newName, selectedItem.value);\r\n      refreshFileSystemFiles();\r\n    };\r\n\r\n    const refreshFileSystemFiles = () => {\r\n      fileSystemStore.refreshAllItemDialogFiles();\r\n      fileSystemStore.fetchDesktopItems();\r\n    };\r\n\r\n    // *** UTILITIES METHODS\r\n    const filePathSplitted = computed(function () {\r\n      return props.itemDialog?.path.split(\"/\");\r\n    });\r\n\r\n    const buildPath = (fullPathSplitted: string[], index: number) => {\r\n      let newPath = \"\";\r\n      for (let i = 0; i <= index; i++) {\r\n        if (i !== 0) {\r\n          newPath += \"/\";\r\n        }\r\n        newPath += fullPathSplitted[i];\r\n      }\r\n\r\n      return newPath;\r\n    };\r\n\r\n    const keyDownHandler = (event: { code: string }) => {\r\n      if (props.itemDialog?.isFocused && selectedItem.value) {\r\n        if (event.code === \"Delete\" && props.itemDialog?.isFocused && selectedItem.value) {\r\n          // delete item\r\n          fileSystemStore.deleteFileSystemItem(selectedItem.value);\r\n          refreshFileSystemFiles();\r\n        } else if (event.code === \"ArrowDown\") {\r\n          const index = props.itemDialog.filesPath.findIndex((filePath) => filePath === selectedItem.value);\r\n          if (index !== -1 && props.itemDialog.filesPath.length > index + 1) {\r\n            selectedItem.value = props.itemDialog.filesPath[index + 1];\r\n          }\r\n        } else if (event.code === \"ArrowUp\") {\r\n          const index = props.itemDialog.filesPath.findIndex((filePath) => filePath === selectedItem.value);\r\n          if (index > 0) {\r\n            selectedItem.value = props.itemDialog.filesPath[index - 1];\r\n          }\r\n        }\r\n        //  else if (event.code === \"ArrowRight\") {\r\n        //   doubleClickHandler(selectedItem.value);\r\n        // }\r\n      }\r\n    };\r\n\r\n    const checkMouseOver = (event: any) => {\r\n      if (isDraggingItem.value) {\r\n        const boundingRect = folderContentRef.value?.getBoundingClientRect();\r\n        if (\r\n          boundingRect &&\r\n          event.clientX < boundingRect.x + boundingRect.width &&\r\n          event.clientX > boundingRect.x &&\r\n          event.clientY < boundingRect.y + boundingRect.height &&\r\n          event.clientY > boundingRect.y\r\n        ) {\r\n          isMouseOver.value = true;\r\n        } else {\r\n          isMouseOver.value = false;\r\n        }\r\n      }\r\n    };\r\n\r\n    onMounted(() => {\r\n      window.addEventListener(\"mousemove\", checkMouseOver);\r\n\r\n      window.addEventListener(\"keydown\", keyDownHandler);\r\n    });\r\n\r\n    onDeactivated(() => {\r\n      window.removeEventListener(\"keydown\", keyDownHandler);\r\n\r\n      window.removeEventListener(\"mousemove\", checkMouseOver);\r\n    });\r\n\r\n    return {\r\n      folderContentRef,\r\n      getFileNameFromPath,\r\n      doubleClickHandler,\r\n      isDir,\r\n      getFileExtensionFromName,\r\n      filePathSplitted,\r\n      updateItemDialogPath,\r\n      buildPath,\r\n      selectedItem,\r\n      itemClickHandler,\r\n      isEditingSelectedValue,\r\n      fileNameToChange,\r\n      deselectItem,\r\n      fileNameInputRef,\r\n      changeFileName,\r\n      fileNameToChangeSpanRef,\r\n      fileFocusedWidth,\r\n      openActionMenu,\r\n      isCutFile,\r\n      dropFilehandler,\r\n      setFilesToMove,\r\n      isDraggingItem,\r\n      isMouseOver,\r\n    };\r\n  },\r\n});\r\n","import { render } from \"./FolderItem.vue?vue&type=template&id=10c8bcfa&scoped=true&ts=true\"\nimport script from \"./FolderItem.vue?vue&type=script&lang=ts\"\nexport * from \"./FolderItem.vue?vue&type=script&lang=ts\"\n\nimport \"./FolderItem.vue?vue&type=style&index=0&id=10c8bcfa&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Stefano\\\\coding\\\\desktop-web\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-10c8bcfa\"]])\n\nexport default __exports__"],"names":["_hoisted_1","_hoisted_2","class","_hoisted_3","_hoisted_4","_hoisted_5","key","_hoisted_6","render","_ctx","_cache","$props","$setup","$data","$options","_component_FileIcon","_resolveComponent","_component_DropExternalFileZone","_openBlock","_createElementBlock","onContextmenu","_withModifiers","$event","openActionMenu","id","itemDialog","path","_createElementVNode","onMousedown","args","deselectItem","style","_normalizeStyle","height","_Fragment","_renderList","filePathSplitted","index","onClick","updateItemDialogPath","buildPath","_toDisplayString","_createTextVNode","length","_createVNode","dropPath","default","_withCtx","onMouseover","isMouseOver","onMouseleave","onDrop","dropFilehandler","_normalizeClass","isDraggingItem","ref","getFileNameFromPath","fileNameToChange","filesPath","item","selectedItem","isCutFile","onDblclick","doubleClickHandler","itemClickHandler","draggable","onDragstart","setFilesToMove","noStyle","filePath","isEditingSelectedValue","_withDirectives","ref_for","onKeyup","_withKeys","changeFileName","onBlur","type","fileFocusedWidth","_vModelText","_","defineComponent","props","Object","Number","components","DropExternalFileZone","FileIcon","emits","setup","fileSystemStore","useFileSystemStore","folderContentRef","moveFilesInFolder","useMoveFiles","computed","dragginPath","isDirectory","isDir","fileName","value","newItemDialog","coordinates","x","y","isSelected","createItemDialog","event","isOpenedFolder","customPath","preventDefault","stopPropagation","pointerEvent","setActionMenu","show","paths","position","clientX","clientY","updateItemDialogName","newPath","fileNameInputRef","fileNameToChangeSpanRef","itemName","filesToCut","filePathsToCut","includes","watch","_2","_3","nextTick","Math","min","getBoundingClientRect","width","dimension","isFocused","setFocusedItemDialog","setTimeout","selectInputText","console","log","newName","renameFile","refreshFileSystemFiles","refreshAllItemDialogFiles","fetchDesktopItems","split","fullPathSplitted","i","keyDownHandler","code","deleteFileSystemItem","findIndex","checkMouseOver","boundingRect","onMounted","window","addEventListener","onDeactivated","removeEventListener","getFileExtensionFromName","__exports__"],"sourceRoot":""}