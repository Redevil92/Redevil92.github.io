{"version":3,"file":"js/2553.4e8e76d6.js","mappings":"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","sources":["webpack://my-portfolio/./src/components/apps/dutiesCalculator/constants.ts","webpack://my-portfolio/./src/components/apps/dutiesCalculator/DutiesByPerson.vue?3dd3","webpack://my-portfolio/./src/components/apps/dutiesCalculator/DutiesByPerson.vue","webpack://my-portfolio/./src/components/apps/dutiesCalculator/DutiesByPerson.vue?1ab4","webpack://my-portfolio/./src/components/shared/BaseTooltip.vue?3072","webpack://my-portfolio/./src/components/shared/BaseTooltip.vue"],"sourcesContent":["export const VAT_RATE_7 = 0.077;\r\nexport const VAT_RATE_2 = 0.025;\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, withCtx as _withCtx, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-422688de\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h4\", {\n  class: \"title\",\n  style: {\"margin-bottom\":\"10px\"}\n}, \"Duties by person\", -1))\nconst _hoisted_2 = { style: {\"margin-left\":\"10px\"} }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"people\" }, [\n  /*#__PURE__*/_createElementVNode(\"span\", { class: \"mdi mdi-account-group label-icon\" }),\n  /*#__PURE__*/_createTextVNode(\" People number:\")\n], -1))\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"total-value\" }, [\n  /*#__PURE__*/_createElementVNode(\"span\", { class: \"mdi mdi-hospital-box label-icon\" }),\n  /*#__PURE__*/_createTextVNode(\"Goods total value (CHF):\")\n], -1))\nconst _hoisted_6 = { style: {\"position\":\"relative\"} }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"total-value-eur\" }, [\n  /*#__PURE__*/_createElementVNode(\"span\", { class: \"mdi mdi-currency-eur label-icon\" }),\n  /*#__PURE__*/_createTextVNode(\"Goods total value (EUR):\")\n], -1))\nconst _hoisted_8 = { class: \"exchange-rate\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"exchange-rate\" }, \"Exchange rate:\", -1))\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", { style: {\"margin\":\"5px 0px\"} }, null, -1))\nconst _hoisted_12 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"total-value\" }, \"Goods with VAT 7.7%:\", -1))\nconst _hoisted_13 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { for: \"total-value\" }, \"Goods with VAT 2.5%:\", -1))\nconst _hoisted_14 = { class: \"results\" }\nconst _hoisted_15 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { class: \"semibold\" }, \"Amount to tax:\", -1))\nconst _hoisted_16 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1))\nconst _hoisted_17 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", { style: {\"margin\":\"5px 0px\"} }, null, -1))\nconst _hoisted_18 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { class: \"semibold\" }, \"Tax to pay:\", -1))\n\nimport { computed, ref, watch } from \"vue\";\r\nimport BaseTooltip from \"@/components/shared/BaseTooltip.vue\";\r\nimport { VAT_RATE_2, VAT_RATE_7 } from \"./constants\";\r\n\r\nenum Currencies {\r\n  EUR = \"EUR\",\r\n  CHF = \"CHF\",\r\n}\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'DutiesByPerson',\n  emits: [\"changeNumberOfPeople\", \"changePersonDuty\"],\n  setup(__props, { emit: __emit }) {\n\r\nconst emit = __emit;\r\n\r\nconst numberOfPeople = ref<number | undefined>(1);\r\nconst totalGoodsValueCHF = ref(0);\r\nconst totalGoodsValueEUR = ref(0);\r\n\r\nconst showEditExchangeRate = ref<boolean>(false);\r\n\r\nconst exchangeRate = ref(1.0);\r\n\r\nconst amountToTax = ref(0);\r\nconst amountToTax_2 = ref(0);\r\nconst amountToTax_7 = ref(0);\r\n\r\nconst taxToPay = computed(() => {\r\n  if (amountToTax.value === 0) {\r\n    return 0;\r\n  }\r\n  return amountToTax_2.value * VAT_RATE_2 + amountToTax_7.value * VAT_RATE_7;\r\n});\r\n\r\nwatch(\r\n  () => taxToPay.value,\r\n  () => {\r\n    emit(\"changePersonDuty\", taxToPay.value);\r\n  },\r\n);\r\n\r\nconst changeNumberOfPeople = () => {\r\n  emit(\"changeNumberOfPeople\", numberOfPeople.value || 1);\r\n  calculateDuties();\r\n};\r\n\r\nconst onChangeAmountToTax_2 = () => {\r\n  if (amountToTax_2.value <= totalGoodsValueCHF.value) {\r\n    amountToTax_7.value = totalGoodsValueCHF.value - amountToTax_2.value;\r\n  } else {\r\n    amountToTax_2.value = totalGoodsValueCHF.value;\r\n    amountToTax_7.value = 0;\r\n  }\r\n};\r\n\r\nconst onChangeAmountToTax_7 = () => {\r\n  if (amountToTax_7.value <= totalGoodsValueCHF.value) {\r\n    amountToTax_2.value = totalGoodsValueCHF.value - amountToTax_7.value;\r\n  } else {\r\n    amountToTax_7.value = totalGoodsValueCHF.value;\r\n    amountToTax_2.value = 0;\r\n  }\r\n};\r\n\r\nconst changeTotalGoodsEUR = () => {\r\n  totalGoodsValueCHF.value = totalGoodsValueEUR.value / exchangeRate.value;\r\n  amountToTax_7.value = totalGoodsValueCHF.value;\r\n  amountToTax_2.value = 0;\r\n  calculateDuties();\r\n};\r\n\r\nconst changeTotalGoodsCHF = () => {\r\n  totalGoodsValueEUR.value = totalGoodsValueCHF.value * exchangeRate.value;\r\n  amountToTax_7.value = totalGoodsValueCHF.value;\r\n  amountToTax_2.value = 0;\r\n  calculateDuties();\r\n};\r\n\r\nconst calculateDuties = () => {\r\n  let toTax = (totalGoodsValueCHF.value || 0) - 300 * (numberOfPeople.value || 1);\r\n  if (toTax > 0) {\r\n    toTax += 300;\r\n  }\r\n  if (toTax > 0) {\r\n    amountToTax.value = toTax;\r\n    return;\r\n  }\r\n  amountToTax.value = 0;\r\n};\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _hoisted_1,\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _withDirectives(_createElementVNode(\"input\", {\n        type: \"number\",\n        onKeyup: changeNumberOfPeople,\n        onChange: changeNumberOfPeople,\n        id: \"people\",\n        default: \"1\",\n        min: \"1\",\n        required: \"\",\n        onBlur: _cache[0] || (_cache[0] = \r\n        () => {\r\n          if (!numberOfPeople.value) {\r\n            numberOfPeople.value = 1;\r\n          }\r\n        }\r\n      ),\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((numberOfPeople).value = $event))\n      }, null, 544), [\n        [_vModelText, numberOfPeople.value]\n      ]),\n      _hoisted_4,\n      _hoisted_5,\n      _withDirectives(_createElementVNode(\"input\", {\n        type: \"number\",\n        onKeyup: changeTotalGoodsCHF,\n        onChange: changeTotalGoodsCHF,\n        id: \"total-value\",\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((totalGoodsValueCHF).value = $event))\n      }, null, 544), [\n        [_vModelText, totalGoodsValueCHF.value]\n      ]),\n      _createElementVNode(\"div\", _hoisted_6, [\n        _hoisted_7,\n        _withDirectives(_createElementVNode(\"input\", {\n          type: \"number\",\n          id: \"total-value-eur\",\n          onKeyup: changeTotalGoodsEUR,\n          onChange: changeTotalGoodsEUR,\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((totalGoodsValueEUR).value = $event))\n        }, null, 544), [\n          [_vModelText, totalGoodsValueEUR.value]\n        ]),\n        _createElementVNode(\"span\", _hoisted_8, [\n          _createTextVNode(\" [ Exchange rate: \" + _toDisplayString(exchangeRate.value) + \" ] \", 1),\n          _createElementVNode(\"span\", {\n            class: \"mdi mdi-pencil edit-icon\",\n            onClick: _cache[4] || (_cache[4] = ($event: any) => (showEditExchangeRate.value = !showEditExchangeRate.value))\n          })\n        ]),\n        _createVNode(BaseTooltip, {\n          show: showEditExchangeRate.value,\n          left: 333\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"span\", {\n              class: \"mdi mdi-close close-icon\",\n              onClick: _cache[5] || (_cache[5] = ($event: any) => (showEditExchangeRate.value = false))\n            }),\n            _hoisted_9,\n            _hoisted_10,\n            _withDirectives(_createElementVNode(\"input\", {\n              type: \"number\",\n              id: \"exchange-rate\",\n              onKeyup: changeTotalGoodsCHF,\n              onChange: changeTotalGoodsCHF,\n              \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((exchangeRate).value = $event))\n            }, null, 544), [\n              [_vModelText, exchangeRate.value]\n            ])\n          ]),\n          _: 1\n        }, 8, [\"show\"])\n      ]),\n      _hoisted_11,\n      _createElementVNode(\"div\", null, [\n        _createElementVNode(\"div\", null, [\n          _hoisted_12,\n          _withDirectives(_createElementVNode(\"input\", {\n            type: \"number\",\n            onKeyup: onChangeAmountToTax_7,\n            onChange: onChangeAmountToTax_7,\n            id: \"total-value\",\n            \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((amountToTax_7).value = $event))\n          }, null, 544), [\n            [_vModelText, amountToTax_7.value]\n          ])\n        ]),\n        _createElementVNode(\"div\", null, [\n          _hoisted_13,\n          _withDirectives(_createElementVNode(\"input\", {\n            type: \"number\",\n            onKeyup: onChangeAmountToTax_2,\n            onChange: onChangeAmountToTax_2,\n            id: \"total-value\",\n            \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((amountToTax_2).value = $event))\n          }, null, 544), [\n            [_vModelText, amountToTax_2.value]\n          ])\n        ])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_14, [\n      _createElementVNode(\"small\", null, [\n        _hoisted_15,\n        _createTextVNode(\" \" + _toDisplayString(amountToTax.value.toFixed(2)) + \" .-\", 1)\n      ]),\n      _hoisted_16,\n      _hoisted_17,\n      _hoisted_18,\n      _createTextVNode(),\n      _createElementVNode(\"strong\", null, _toDisplayString(taxToPay.value.toFixed(2)) + \" .-\", 1)\n    ])\n  ], 64))\n}\n}\n\n})","<template>\r\n  <h4 class=\"title\" style=\"margin-bottom: 10px\">Duties by person</h4>\r\n  <div style=\"margin-left: 10px\">\r\n    <label for=\"people\">\r\n      <span class=\"mdi mdi-account-group label-icon\"></span>\r\n      People number:</label\r\n    >\r\n    <input\r\n      type=\"number\"\r\n      @keyup=\"changeNumberOfPeople\"\r\n      @change=\"changeNumberOfPeople\"\r\n      id=\"people\"\r\n      default=\"1\"\r\n      min=\"1\"\r\n      required\r\n      @blur=\"\r\n        () => {\r\n          if (!numberOfPeople) {\r\n            numberOfPeople = 1;\r\n          }\r\n        }\r\n      \"\r\n      v-model=\"numberOfPeople\"\r\n    />\r\n    <br />\r\n    <label for=\"total-value\"> <span class=\"mdi mdi-hospital-box label-icon\"></span>Goods total value (CHF):</label>\r\n    <input\r\n      type=\"number\"\r\n      @keyup=\"changeTotalGoodsCHF\"\r\n      @change=\"changeTotalGoodsCHF\"\r\n      id=\"total-value\"\r\n      v-model=\"totalGoodsValueCHF\"\r\n    />\r\n\r\n    <div style=\"position: relative\">\r\n      <label for=\"total-value-eur\"><span class=\"mdi mdi-currency-eur label-icon\"></span>Goods total value (EUR):</label>\r\n      <input\r\n        type=\"number\"\r\n        id=\"total-value-eur\"\r\n        @keyup=\"changeTotalGoodsEUR\"\r\n        @change=\"changeTotalGoodsEUR\"\r\n        v-model=\"totalGoodsValueEUR\"\r\n      />\r\n      <span class=\"exchange-rate\">\r\n        [ Exchange rate: {{ exchangeRate }} ]\r\n        <span class=\"mdi mdi-pencil edit-icon\" @click=\"showEditExchangeRate = !showEditExchangeRate\"></span\r\n      ></span>\r\n\r\n      <BaseTooltip :show=\"showEditExchangeRate\" :left=\"333\">\r\n        <span class=\"mdi mdi-close close-icon\" @click=\"showEditExchangeRate = false\"></span>\r\n        <label for=\"exchange-rate\">Exchange rate:</label>\r\n        <br />\r\n        <input\r\n          type=\"number\"\r\n          id=\"exchange-rate\"\r\n          @keyup=\"changeTotalGoodsCHF\"\r\n          @change=\"changeTotalGoodsCHF\"\r\n          v-model=\"exchangeRate\"\r\n        />\r\n      </BaseTooltip>\r\n    </div>\r\n    <hr style=\"margin: 5px 0px\" />\r\n    <div>\r\n      <div>\r\n        <label for=\"total-value\">Goods with VAT 7.7%:</label>\r\n        <input\r\n          type=\"number\"\r\n          @keyup=\"onChangeAmountToTax_7\"\r\n          @change=\"onChangeAmountToTax_7\"\r\n          id=\"total-value\"\r\n          v-model=\"amountToTax_7\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <label for=\"total-value\">Goods with VAT 2.5%:</label>\r\n        <input\r\n          type=\"number\"\r\n          @keyup=\"onChangeAmountToTax_2\"\r\n          @change=\"onChangeAmountToTax_2\"\r\n          id=\"total-value\"\r\n          v-model=\"amountToTax_2\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"results\">\r\n    <small><label class=\"semibold\">Amount to tax:</label> {{ amountToTax.toFixed(2) }} .-</small>\r\n    <br />\r\n    <hr style=\"margin: 5px 0px\" />\r\n    <label class=\"semibold\">Tax to pay:</label> <strong>{{ taxToPay.toFixed(2) }} .-</strong>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { computed, ref, watch } from \"vue\";\r\nimport BaseTooltip from \"@/components/shared/BaseTooltip.vue\";\r\nimport { VAT_RATE_2, VAT_RATE_7 } from \"./constants\";\r\n\r\nconst emit = defineEmits([\"changeNumberOfPeople\", \"changePersonDuty\"]);\r\n\r\nconst numberOfPeople = ref<number | undefined>(1);\r\nconst totalGoodsValueCHF = ref(0);\r\nconst totalGoodsValueEUR = ref(0);\r\n\r\nconst showEditExchangeRate = ref<boolean>(false);\r\n\r\nconst exchangeRate = ref(1.0);\r\n\r\nconst amountToTax = ref(0);\r\nconst amountToTax_2 = ref(0);\r\nconst amountToTax_7 = ref(0);\r\n\r\nconst taxToPay = computed(() => {\r\n  if (amountToTax.value === 0) {\r\n    return 0;\r\n  }\r\n  return amountToTax_2.value * VAT_RATE_2 + amountToTax_7.value * VAT_RATE_7;\r\n});\r\n\r\nwatch(\r\n  () => taxToPay.value,\r\n  () => {\r\n    emit(\"changePersonDuty\", taxToPay.value);\r\n  },\r\n);\r\n\r\nconst changeNumberOfPeople = () => {\r\n  emit(\"changeNumberOfPeople\", numberOfPeople.value || 1);\r\n  calculateDuties();\r\n};\r\n\r\nconst onChangeAmountToTax_2 = () => {\r\n  if (amountToTax_2.value <= totalGoodsValueCHF.value) {\r\n    amountToTax_7.value = totalGoodsValueCHF.value - amountToTax_2.value;\r\n  } else {\r\n    amountToTax_2.value = totalGoodsValueCHF.value;\r\n    amountToTax_7.value = 0;\r\n  }\r\n};\r\n\r\nconst onChangeAmountToTax_7 = () => {\r\n  if (amountToTax_7.value <= totalGoodsValueCHF.value) {\r\n    amountToTax_2.value = totalGoodsValueCHF.value - amountToTax_7.value;\r\n  } else {\r\n    amountToTax_7.value = totalGoodsValueCHF.value;\r\n    amountToTax_2.value = 0;\r\n  }\r\n};\r\n\r\nconst changeTotalGoodsEUR = () => {\r\n  totalGoodsValueCHF.value = totalGoodsValueEUR.value / exchangeRate.value;\r\n  amountToTax_7.value = totalGoodsValueCHF.value;\r\n  amountToTax_2.value = 0;\r\n  calculateDuties();\r\n};\r\n\r\nconst changeTotalGoodsCHF = () => {\r\n  totalGoodsValueEUR.value = totalGoodsValueCHF.value * exchangeRate.value;\r\n  amountToTax_7.value = totalGoodsValueCHF.value;\r\n  amountToTax_2.value = 0;\r\n  calculateDuties();\r\n};\r\n\r\nconst calculateDuties = () => {\r\n  let toTax = (totalGoodsValueCHF.value || 0) - 300 * (numberOfPeople.value || 1);\r\n  if (toTax > 0) {\r\n    toTax += 300;\r\n  }\r\n  if (toTax > 0) {\r\n    amountToTax.value = toTax;\r\n    return;\r\n  }\r\n  amountToTax.value = 0;\r\n};\r\n\r\nenum Currencies {\r\n  EUR = \"EUR\",\r\n  CHF = \"CHF\",\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nlabel {\r\n  width: 250px;\r\n  display: inline-flex;\r\n}\r\n\r\n.results {\r\n  background-color: rgb(181 222 222 / 17%);\r\n  padding: 5px 10px;\r\n  margin-top: 5px;\r\n  width: 425px;\r\n  border: 1px solid #e4e4e4;\r\n}\r\n\r\n.semibold {\r\n  font-weight: 600;\r\n}\r\n\r\n.title {\r\n  font-size: var(--x-large-font-size);\r\n  width: fit-content;\r\n  border-radius: 5px;\r\n  padding: 2px 10px;\r\n}\r\n\r\n.label-icon {\r\n  margin-right: 5px;\r\n}\r\n\r\n.exchange-rate {\r\n  font-size: var(--small-font-size);\r\n  opacity: 0.9;\r\n  margin-left: 5px;\r\n}\r\n\r\n.edit-icon {\r\n  padding: 2px;\r\n  height: 15px;\r\n  width: 15px;\r\n  background-color: rgb(237, 237, 237);\r\n  border-radius: 5px;\r\n}\r\n\r\n.edit-icon:hover {\r\n  background-color: rgb(207, 207, 207);\r\n  cursor: pointer;\r\n}\r\n\r\n.close-icon {\r\n  position: absolute;\r\n  cursor: pointer;\r\n  top: 0px;\r\n  right: 0px;\r\n  padding: 2px;\r\n}\r\n</style>\r\n","import script from \"./DutiesByPerson.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./DutiesByPerson.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./DutiesByPerson.vue?vue&type=style&index=0&id=422688de&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-422688de\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseTooltip',\n  props: { show: Boolean, left: Number, width: Number },\n  setup(__props) {\n\r\nconst props = __props;\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (__props.show)\n    ? (_openBlock(), _createElementBlock(\"div\", {\n        key: 0,\n        class: \"tooltip\",\n        style: _normalizeStyle(__props.left ? `left: ${__props.left}px` : 'left:0px')\n      }, [\n        _renderSlot(_ctx.$slots, \"default\")\n      ], 4))\n    : _createCommentVNode(\"\", true)\n}\n}\n\n})","import script from \"./BaseTooltip.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseTooltip.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseTooltip.vue?vue&type=style&index=0&id=0a5c1179&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0a5c1179\"]])\n\nexport default __exports__"],"names":["VAT_RATE_7","VAT_RATE_2","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","_createElementVNode","class","style","_hoisted_2","_hoisted_3","for","_createTextVNode","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","Currencies","_defineComponent","__name","emits","setup","__props","emit","__emit","numberOfPeople","ref","totalGoodsValueCHF","totalGoodsValueEUR","showEditExchangeRate","exchangeRate","amountToTax","amountToTax_2","amountToTax_7","taxToPay","computed","value","watch","changeNumberOfPeople","calculateDuties","onChangeAmountToTax_2","onChangeAmountToTax_7","changeTotalGoodsEUR","changeTotalGoodsCHF","toTax","_ctx","_cache","_openBlock","_createElementBlock","_Fragment","_withDirectives","type","onKeyup","onChange","id","default","min","required","onBlur","$event","_vModelText","_toDisplayString","onClick","_createVNode","BaseTooltip","show","left","_withCtx","_","toFixed","__exports__","props","Boolean","Number","width","key","_normalizeStyle","_renderSlot","$slots","_createCommentVNode"],"sourceRoot":""}