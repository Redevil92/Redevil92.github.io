"use strict";(self["webpackChunkmy_portfolio"]=self["webpackChunkmy_portfolio"]||[]).push([[2837,2633],{2837:function(e,t,i){i.r(t),i.d(t,{default:function(){return S}});var a=i(3396),l=i(9242),n=i(7139),o=i(4870),s=i(7103),r=i(4468),u=i(2633),c=i(9050),d=i(8417),p=i(7695),v=i(9056),h=i(5866);const m=e=>((0,a.dD)("data-v-9db19e50"),e=e(),(0,a.Cn)(),e),f=["id"],g={class:"flex"},w=m((()=>(0,a._)("div",{class:"mdi mdi-folder path-padding"},null,-1))),y=["onKeyup"],D=m((()=>(0,a._)("span",{class:"mdi mdi-folder path-padding"},null,-1))),k=m((()=>(0,a._)("span",{class:"mdi mdi-chevron-right path-padding"},null,-1))),_=["onClick"],x={key:0,class:"mdi mdi-chevron-right path-padding"},C={class:"flex-start"};var F=(0,a.aZ)({props:{itemDialog:Object,height:{type:Number,required:!0}},setup(e){const t=e,i=(0,p.H)(),m=(0,o.iH)(null),F=(0,o.iH)(null),P=(0,o.iH)(!1),b=(0,o.iH)(!1),S=(0,o.iH)(t.itemDialog?.path),{moveFilesInFolder:B,setFilesToMove:H}=(0,d.Z)(),I=(0,a.Fl)((function(){return""!==i.dragginPath})),L=async e=>{const t=await(0,s.zj)(e);if(t)N(e);else{const t={path:e,coordinates:{x:0,y:0},isSelected:!0};i.createItemDialog(t)}},M=async(e,t=!1)=>{e.event.preventDefault(),e.event.stopPropagation();const a=e.event,l=t?[(0,v.ae)(a,e.filePath),(0,v.W7)(a,e.filePath),await(0,v.A)(e.filePath,!1,!1,!1)]:[...await(0,h.V)([e.filePath]),{materialIcon:"mdi-open-in-new",iconOnly:!1,horizontalGroup:!1,groupName:"other",actionName:"Open",callback:()=>L(e.filePath),disabled:!1}];i.setActionMenu({show:!0,paths:[e.filePath],position:{x:a.clientX,y:a.clientY},isOpenedFolder:t,customLayout:l})},U=()=>{q(!1),S.value=t.itemDialog?.path},R=async e=>{B(e,t.itemDialog?.path||"")},N=e=>{i.updateItemDialogPath({newPath:e,itemDialog:t.itemDialog}),S.value=e},z=e=>{i.renameFile(e.newName,e.oldName),A()},q=async e=>{e&&F.value&&setTimeout((()=>{F.value?.focus(),F.value?.select()}),10),b.value=e},A=()=>{i.refreshAllItemDialogFiles(),i.fetchDesktopItems()},Z=(0,a.Fl)((function(){return t.itemDialog?.path.split("/")})),T=(e,t)=>{if(void 0===e)return"";let i="";for(let a=0;a<=t;a++)0!==a&&(i+="/"),i+=e[a];return i},K=async e=>{await i.deleteFileSystemItem(e),A()},E=e=>{if(I.value){const t=m.value?.getBoundingClientRect();t&&e.clientX<t.x+t.width&&e.clientX>t.x&&e.clientY<t.y+t.height&&e.clientY>t.y?P.value=!0:P.value=!1}};return(0,a.bv)((()=>{window.addEventListener("mousemove",E)})),(0,a.Ah)((()=>{window.removeEventListener("mousemove",E)})),(t,i)=>e.itemDialog?((0,a.wg)(),(0,a.iD)("div",{key:0,onContextmenu:i[10]||(i[10]=(0,l.iM)((t=>M({event:t,filePath:e.itemDialog?.path||""},!0)),["right"])),class:"droppable",id:e.itemDialog.path},[(0,a._)("div",{style:(0,n.j5)(`height:${e.height-5}px; position:relative`)},[(0,a._)("div",{class:"folder-actions",onClick:i[4]||(i[4]=e=>b.value=!0)},[(0,a.wy)((0,a._)("div",g,[w,(0,a.wy)((0,a._)("input",{ref_key:"fullPathInputRef",ref:F,class:"no-style-input path-input","onUpdate:modelValue":i[0]||(i[0]=e=>S.value=e),onKeyup:[i[1]||(i[1]=(0,l.D2)((e=>N(S.value||"")),["enter"])),(0,l.D2)(U,["esc"])],onBlur:U,type:"text"},null,40,y),[[l.nr,S.value]])],512),[[l.F8,b.value]]),(0,o.SU)(Z)?(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",{key:0,class:"flex",onMousedn:i[3]||(i[3]=e=>q(!0))},[D,k,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,o.SU)(Z),((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:"path-"+t+"-"+e,class:"flex"},[(0,a._)("div",{class:"path-item path-padding",onMousedown:i[2]||(i[2]=(0,l.iM)((()=>{}),["stop"])),onClick:(0,l.iM)((e=>N(T((0,o.SU)(Z),t))),["stop"])},(0,n.zw)(e),41,_),(0,o.SU)(Z).length>t+1?((0,a.wg)(),(0,a.iD)("span",x)):(0,a.kq)("",!0)])))),128))],544)),[[l.F8,!b.value]]):(0,a.kq)("",!0)]),(0,a._)("div",C,[(0,a.Wm)(c.Z,{height:e.height-35,onOnFavouriteSelect:i[5]||(i[5]=e=>N(e))},null,8,["height"]),(0,a.Wm)(r.Z,{dropPath:e.itemDialog.path,style:{"flex-grow":"1","overflow-x":"auto",position:"relative"}},{default:(0,a.w5)((()=>[(0,a._)("div",{onMousedown:i[7]||(i[7]=e=>b.value=!1),onMouseover:i[8]||(i[8]=e=>P.value=!0),onMouseleave:i[9]||(i[9]=e=>P.value=!1),onDrop:R,class:(0,n.C_)(["folder-item-list",{"folder-item-list-drag-over":(0,o.SU)(I)&&P.value}]),ref_key:"folderContentRef",ref:m},[(0,a.Wm)(u["default"],{itemsList:e.itemDialog.filesPath,canRename:!0,showProperties:!0,height:e.height-50,isFocused:e.itemDialog.isFocused,onOnDoubleClick:L,onOnRightClick:i[6]||(i[6]=e=>M(e,!1)),onRenameFileHandler:z,onOnTryDeleteItem:K},null,8,["itemsList","height","isFocused"])],34)])),_:1},8,["dropPath"])])],4)],40,f)):(0,a.kq)("",!0)}}),P=i(89);const b=(0,P.Z)(F,[["__scopeId","data-v-9db19e50"]]);var S=b},2633:function(e,t,i){i.r(t),i.d(t,{default:function(){return R}});var a=i(3396),l=i(7139),n=i(4870),o=i(9242),s=i(7401),r=i(8097),u=i(7695),c=i(7103);const d=(e,t=2)=>{if(!+e)return"0 Bytes";const i=1024,a=t<0?0:t,l=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],n=Math.floor(Math.log(e)/Math.log(i));return`${parseFloat((e/Math.pow(i,n)).toFixed(a))} ${l[n]}`};var p=i(5280),v=i(5636);const h=e=>((0,a.dD)("data-v-46e92953"),e=e(),(0,a.Cn)(),e),m={key:0,class:"flex-align-center table-header"},f=h((()=>(0,a._)("div",{style:{width:"400px"}},"Name",-1))),g=h((()=>(0,a._)("div",{style:{width:"170px"}},"Date modified",-1))),w=h((()=>(0,a._)("div",{style:{width:"100px"}},"Size",-1))),y=[f,g,w],D=["onDblclick","onMousedown","onContextmenu"],k=["onKeyup"],_={key:1,class:"file-text-preview"},x={class:"flex",style:{width:"400px"}},C={key:0},F=["onKeyup"],P={key:1,style:{width:"290px"},class:"file-text one-line-ellipsis noselect"},b={key:0,class:"prop-field",style:{width:"170px"}},S={key:1,class:"prop-field",style:{width:"100px"}},B={key:1,class:"footer flex"},H={class:"items-count"},I={style:{"margin-right":"15px"}};var L=(0,a.aZ)({props:{itemsList:{type:Array,required:!0},isFocused:Boolean,canRename:Boolean,keyEventsActive:{type:Boolean,default:!0},canChangeViewType:{type:Boolean,default:!0},showProperties:{type:Boolean,default:!1},height:{type:Number}},emits:["onDoubleClick","onRightClick","renameFileHandler","onTryDeleteItem","onItemMouseDown"],setup(e,{emit:t}){const i=e,h=(0,u.H)(),f=(0,v.F)(),g=(0,n.iH)("list"),w=(0,n.iH)(""),L=(0,n.iH)(!1),M=(0,n.iH)(""),U=(0,n.iH)(null),R=(0,n.iH)(null),N=(0,n.iH)(200),z=(0,n.iH)([]),q=(0,a.Fl)((()=>f.timeFormat)),A=(0,a.Fl)((()=>f.dateFormat)),Z=()=>{console.log("DRag start")},T=async()=>{const e=[];for(const t of i.itemsList){const a=i.showProperties?await(0,c.WG)(t):void 0;e.push({path:t,properties:a})}z.value=e};(0,a.m0)((async()=>{i.itemsList&&await T()}));const K=e=>{const t=h.filePathsToCut;return!!t.includes(e)},E=async e=>{t("onItemMouseDown",e),e!==w.value?(w.value=e,L.value=!1):!L.value&&i.canRename&&(M.value=(0,s.Bc)(e),setTimeout((async()=>{L.value=!L.value}),600))},O=async e=>{L.value||t("onDoubleClick",e)},$=(e,i)=>{t("onRightClick",{event:e,filePath:i})},W=()=>{t("renameFileHandler",{newName:(0,s.bn)(w.value)+"/"+M.value,oldName:w.value})},Y=()=>{w.value="",L.value=!1},j=e=>{if(i.isFocused&&w.value&&i.itemsList&&i.keyEventsActive)if("Delete"===e.code&&w.value)t("onTryDeleteItem",w.value);else if("ArrowDown"===e.code){const e=i.itemsList.findIndex((e=>e===w.value));-1!==e&&i.itemsList.length>e+1&&(w.value=i.itemsList[e+1])}else if("ArrowUp"===e.code){const e=i.itemsList.findIndex((e=>e===w.value));e>0&&(w.value=i.itemsList[e-1])}};return(0,a.bv)((async()=>{i.keyEventsActive&&window.addEventListener("keydown",j),await T()})),(0,a.Ah)((()=>{window.removeEventListener("keydown",j)})),(t,i)=>((0,a.wg)(),(0,a.iD)("div",{style:(0,l.j5)(e.height?`height:${e.height}px`:""),class:(0,l.C_)(["container",{"grid-container":"preview"===g.value}]),onMousedown:Y},[(0,a._)("span",{class:"input-placeholder",ref_key:"fileNameToChangeSpanRef",ref:R},(0,l.zw)((0,n.SU)(s.Bc)(M.value)),513),"list"===g.value&&e.showProperties?((0,a.wg)(),(0,a.iD)("div",m,y)):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(z.value,(t=>((0,a.wg)(),(0,a.iD)("div",{class:(0,l.C_)({"cut-item":K(t.path)}),draggable:"true",key:`item-${t.path}`,onDblclick:e=>O(t.path),onDragstart:Z,onMousedown:(0,o.iM)((e=>E(t.path)),["stop"]),onContextmenu:(0,o.iM)((e=>$(e,t.path)),["right"])},["preview"===g.value?((0,a.wg)(),(0,a.iD)("div",{key:0,draggable:"true",onDragstart:Z},[(0,a.Wm)(r.Z,{selected:t.path===w.value,height:60,filePath:t.path},null,8,["selected","filePath"]),(0,a._)("div",{class:(0,l.C_)([t.path===w.value?"file-text-preview-selected":"","file-text-preview"])},[t.path===w.value&&L.value&&e.canRename?(0,a.wy)(((0,a.wg)(),(0,a.iD)("textarea",{key:0,ref_for:!0,ref_key:"fileNameInputRef",ref:U,onKeyup:(0,o.D2)(W,["enter"]),onBlur:W,rows:"2",class:"no-outline file-text-preview","onUpdate:modelValue":i[0]||(i[0]=e=>M.value=e)},null,40,k)),[[o.nr,M.value]]):((0,a.wg)(),(0,a.iD)("div",_,(0,l.zw)((0,n.SU)(s.Bc)(t.path)),1))],2)],32)):(0,a.kq)("",!0),"list"===g.value?((0,a.wg)(),(0,a.iD)("div",{key:1,class:(0,l.C_)(["flex-align-center list-folder-item",{"selected-item":t.path===w.value}]),draggable:"true"},[(0,a._)("div",x,[(0,a.Wm)(r.Z,{class:"file-icon",noStyle:!0,height:18,filePath:t.path},null,8,["filePath"]),t.path===w.value&&L.value&&e.canRename?((0,a.wg)(),(0,a.iD)("span",C,[(0,a.wy)((0,a._)("input",{ref_for:!0,ref_key:"fileNameInputRef",ref:U,class:"file-text no-outline","onUpdate:modelValue":i[1]||(i[1]=e=>M.value=e),onKeyup:[(0,o.D2)(W,["enter"]),i[2]||(i[2]=(0,o.D2)((e=>L.value=!1),["esc"]))],onBlur:W,type:"text",style:(0,l.j5)(`width:${N.value}px`)},null,44,F),[[o.nr,M.value]])])):((0,a.wg)(),(0,a.iD)("div",P,(0,l.zw)((0,n.SU)(s.Bc)(t.path)),1))]),e.showProperties&&t.properties?((0,a.wg)(),(0,a.iD)("div",b,(0,l.zw)((0,n.SU)(p.Am)(t.properties.ctime,(0,n.SU)(A)))+" "+(0,l.zw)((0,n.SU)(p.rx)(t.properties.ctime,(0,n.SU)(q))),1)):(0,a.kq)("",!0),e.showProperties&&t.properties?((0,a.wg)(),(0,a.iD)("div",S,(0,l.zw)((0,n.SU)(d)(t.properties.size)),1)):(0,a.kq)("",!0)],2)):(0,a.kq)("",!0)],42,D)))),128)),e.canChangeViewType?((0,a.wg)(),(0,a.iD)("div",B,[(0,a._)("div",H,(0,l.zw)(e.itemsList.length)+" item"+(0,l.zw)(e.itemsList.length>1?"s":""),1),(0,a._)("div",I,[(0,a._)("span",{class:(0,l.C_)(["mdi mdi-format-list-bulleted preview-icon",{"preview-icon-selected":"list"===g.value}]),onClick:i[3]||(i[3]=e=>g.value="list")},null,2),(0,a._)("span",{class:(0,l.C_)(["mdi mdi-card-outline preview-icon",{"preview-icon-selected":"preview"===g.value}]),onClick:i[4]||(i[4]=e=>g.value="preview")},null,2)])])):(0,a.kq)("",!0)],38))}}),M=i(89);const U=(0,M.Z)(L,[["__scopeId","data-v-46e92953"]]);var R=U},9050:function(e,t,i){i.d(t,{Z:function(){return g}});var a=i(3396),l=i(7139);const n=e=>((0,a.dD)("data-v-2cccc3b0"),e=e(),(0,a.Cn)(),e),o=n((()=>(0,a._)("div",{class:"title-text"},"Favourites",-1))),s=["onClick"],r={class:"medium-font"},u=n((()=>(0,a._)("div",{class:"title-text"},"Cloud",-1))),c=n((()=>(0,a._)("div",{class:"favourite-item"},[(0,a._)("span",{class:(0,l.C_)("mdi mdi-cloud mdi-18 favourite-icon")}),(0,a._)("span",{class:"medium-font"},"Share folder ")],-1)));function d(e,t,i,n,d,p){return e.favouritesPathList?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"left-panel",style:(0,l.j5)(e.height?`height:${e.height-2}px`:"")},[o,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.favouritesPathList,(t=>((0,a.wg)(),(0,a.iD)("div",{class:(0,l.C_)(["favourite-item",e.pathSelected===t.path?"favourite-item-selected":""]),key:"favourite-"+t,onClick:i=>e.clickFavouriteHandler(t.path)},[(0,a._)("span",{class:(0,l.C_)(`mdi ${t.mdiIcon}  favourite-icon`)},null,2),(0,a._)("span",r,(0,l.zw)(e.getFileNameFromPath(t.path)),1)],10,s)))),128)),u,c],4)):(0,a.kq)("",!0)}var p=i(7401),v=i(5636),h=(0,a.aZ)({props:{pathSelected:{type:String,default:""},height:{type:Number,required:!1}},components:{},emits:["onFavouriteSelect"],setup(e,t){const i=(0,v.F)(),l=(0,a.Fl)((()=>i.favouritesPathListAndIcon)),n=e=>{t.emit("onFavouriteSelect",e)};return{favouritesPathList:l,getFileNameFromPath:p.Bc,clickFavouriteHandler:n}}}),m=i(89);const f=(0,m.Z)(h,[["render",d],["__scopeId","data-v-2cccc3b0"]]);var g=f}}]);
//# sourceMappingURL=2837.bc8da802.js.map