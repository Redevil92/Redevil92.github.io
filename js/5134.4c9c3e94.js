"use strict";(self["webpackChunkmy_portfolio"]=self["webpackChunkmy_portfolio"]||[]).push([[5134],{83630:function(e,t,l){l.r(t),l.d(t,{default:function(){return z}});var a=l(73396),i=l(87139),s=l(44870),n=l(49242),o=l(67250),u=l(69754),c=l(67695),r=l(59025);const d=(e,t=2)=>{if(!+e)return"0 Bytes";const l=1024,a=t<0?0:t,i=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(l));return`${parseFloat((e/Math.pow(l,s)).toFixed(a))} ${i[s]}`};var v=l(55280),p=l(95636);const h=e=>((0,a.dD)("data-v-5f452fde"),e=e(),(0,a.Cn)(),e),w={key:0,class:"flex-align-center table-header"},f=h((()=>(0,a._)("div",{style:{width:"400px"}},"Name",-1))),m=h((()=>(0,a._)("div",{style:{width:"170px"}},"Date modified",-1))),g=h((()=>(0,a._)("div",{style:{width:"100px"}},"Size",-1))),y=[f,m,g],_=["onDblclick","onMousedown","onContextmenu"],k=["onKeyup","onBlur"],D={key:1,class:"file-text-preview"},x={class:"flex",style:{width:"400px"}},S={key:0},C=["onKeyup","onBlur"],B={key:1,style:{width:"290px"},class:"file-text one-line-ellipsis noselect"},F={key:0,class:"prop-field",style:{width:"170px"}},b={key:1,class:"prop-field",style:{width:"100px"}},I={key:0,class:"footer flex"},L={class:"items-count"},Z={style:{"margin-right":"15px"}};var H=(0,a.aZ)({__name:"FolderItemsList",props:{itemsList:{type:Array,required:!0},isFocused:Boolean,canRename:Boolean,keyEventsActive:{type:Boolean,default:!0},canChangeViewType:{type:Boolean,default:!0},showProperties:{type:Boolean,default:!1},height:{type:Number}},emits:["onDoubleClick","onRightClick","renameFileHandler","onItemMouseDown","onSelectedItemsChange"],setup(e,{emit:t}){const l=e,h=t,f=(0,c.H)(),m=(0,p.F)(),g=(0,s.iH)("list"),H=(0,s.iH)([]),A=(0,s.iH)(!1),P=(0,s.iH)(""),z=(0,s.iH)(null),M=(0,s.iH)(null),U=(0,s.iH)(200),T=(0,s.iH)([]),q=(0,a.Fl)((()=>m.timeFormat)),R=(0,a.Fl)((()=>m.dateFormat));(0,a.YP)((()=>H.value),(async function(){h("onSelectedItemsChange",H.value)}));const K=()=>{console.log("Drag start")},N=async()=>{const e=[];for(const t of l.itemsList){const a=l.showProperties?await r.Z.getStat(t):void 0;e.push({path:t,properties:a})}T.value=e};(0,a.m0)((async()=>{l.itemsList&&await N()}));const V=e=>{const t=f.filePathsToCut;return!!t.includes(e)},W=async e=>{h("onItemMouseDown",e),H.value.includes(e)&&1===H.value.length?!A.value&&l.canRename&&(P.value=(0,o.Bc)(e),setTimeout((async()=>{A.value=!A.value}),600)):(H.value=[e],A.value=!1)},$=async e=>{A.value||h("onDoubleClick",e)},E=(e,t)=>{h("onRightClick",{event:e,filePath:t})},Y=e=>{h("renameFileHandler",{newName:(0,o.bn)(e)+"/"+P.value,oldName:e})},j=()=>{H.value=[],A.value=!1},O=e=>{if(l.isFocused&&H.value.length>0&&l.itemsList&&l.keyEventsActive)if("ArrowDown"===e.code){const e=l.itemsList.findIndex((e=>e===H.value[H.value.length-1]));-1!==e&&l.itemsList.length>e+1&&(H.value=[l.itemsList[e+1]])}else if("ArrowUp"===e.code){const e=l.itemsList.findIndex((e=>e===H.value[H.value.length-1]));e>0&&(H.value=[l.itemsList[e-1]])}};return(0,a.bv)((async()=>{l.keyEventsActive&&window.addEventListener("keydown",O),await N()})),(0,a.Ah)((()=>{window.removeEventListener("keydown",O)})),(t,l)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",{style:(0,i.j5)(e.height?`height:${e.height}px`:""),class:(0,i.C_)(["container",{"grid-container":"preview"===g.value}]),onMousedown:j},[(0,a._)("span",{class:"input-placeholder",ref_key:"fileNameToChangeSpanRef",ref:M},(0,i.zw)((0,s.SU)(o.Bc)(P.value)),513),"list"===g.value&&e.showProperties?((0,a.wg)(),(0,a.iD)("div",w,y)):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(T.value,(t=>((0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)({"cut-item":V(t.path)}),draggable:"true",key:`item-${t.path}`,onDblclick:e=>$(t.path),onDragstart:K,onMousedown:(0,n.iM)((e=>W(t.path)),["stop"]),onContextmenu:(0,n.iM)((e=>E(e,t.path)),["right"])},["preview"===g.value?((0,a.wg)(),(0,a.iD)("div",{key:0,draggable:"true",onDragstart:K},[(0,a.Wm)(u.Z,{selected:H.value.includes(t.path),height:60,filePath:t.path},null,8,["selected","filePath"]),(0,a._)("div",{class:(0,i.C_)([H.value.includes(t.path)?"file-text-preview-selected":"","file-text-preview"])},[H.value.includes(t.path)&&A.value&&e.canRename?(0,a.wy)(((0,a.wg)(),(0,a.iD)("textarea",{key:0,ref_for:!0,ref_key:"fileNameInputRef",ref:z,onKeyup:(0,n.D2)((e=>Y(t.path)),["enter"]),onBlur:e=>Y(t.path),rows:"2",class:"no-outline file-text-preview","onUpdate:modelValue":l[0]||(l[0]=e=>P.value=e)},null,40,k)),[[n.nr,P.value]]):((0,a.wg)(),(0,a.iD)("div",D,(0,i.zw)((0,s.SU)(o.Bc)(t.path)),1))],2)],32)):(0,a.kq)("",!0),"list"===g.value?((0,a.wg)(),(0,a.iD)("div",{key:1,class:(0,i.C_)(["flex-align-center list-folder-item",{"selected-item":H.value.includes(t.path)}]),draggable:"true"},[(0,a._)("div",x,[(0,a.Wm)(u.Z,{class:"file-icon",noStyle:!0,height:18,filePath:t.path},null,8,["filePath"]),H.value.includes(t.path)&&A.value&&e.canRename?((0,a.wg)(),(0,a.iD)("span",S,[(0,a.wy)((0,a._)("input",{ref_for:!0,ref_key:"fileNameInputRef",ref:z,class:"file-text no-outline","onUpdate:modelValue":l[1]||(l[1]=e=>P.value=e),onKeyup:[(0,n.D2)((e=>Y(t.path)),["enter"]),l[2]||(l[2]=(0,n.D2)((e=>A.value=!1),["esc"]))],onBlur:e=>Y(t.path),type:"text",style:(0,i.j5)(`width:${U.value}px`)},null,44,C),[[n.nr,P.value]])])):((0,a.wg)(),(0,a.iD)("div",B,(0,i.zw)((0,s.SU)(o.Bc)(t.path)),1))]),e.showProperties&&t.properties?((0,a.wg)(),(0,a.iD)("div",F,(0,i.zw)((0,s.SU)(v.Am)(t.properties.ctime,R.value))+" "+(0,i.zw)((0,s.SU)(v.rx)(t.properties.ctime,q.value)),1)):(0,a.kq)("",!0),e.showProperties&&t.properties?((0,a.wg)(),(0,a.iD)("div",b,(0,i.zw)((0,s.SU)(d)(t.properties.size)),1)):(0,a.kq)("",!0)],2)):(0,a.kq)("",!0)],42,_)))),128))],38),e.canChangeViewType?((0,a.wg)(),(0,a.iD)("div",I,[(0,a._)("div",L,(0,i.zw)(e.itemsList.length)+" item"+(0,i.zw)(e.itemsList.length>1?"s":""),1),(0,a._)("div",Z,[(0,a._)("span",{class:(0,i.C_)(["mdi mdi-format-list-bulleted preview-icon",{"preview-icon-selected":"list"===g.value}]),onClick:l[3]||(l[3]=e=>g.value="list")},null,2),(0,a._)("span",{class:(0,i.C_)(["mdi mdi-card-outline preview-icon",{"preview-icon-selected":"preview"===g.value}]),onClick:l[4]||(l[4]=e=>g.value="preview")},null,2)])])):(0,a.kq)("",!0)],64))}}),A=l(40089);const P=(0,A.Z)(H,[["__scopeId","data-v-5f452fde"]]);var z=P},56808:function(e,t,l){l.d(t,{Z:function(){return m}});var a=l(73396),i=l(87139),s=l(44870),n=l(67250),o=l(95636);const u=e=>((0,a.dD)("data-v-37fc0299"),e=e(),(0,a.Cn)(),e),c=u((()=>(0,a._)("div",{class:"title-text"},"Favourites",-1))),r=["onClick"],d={class:"medium-font"},v=u((()=>(0,a._)("div",{class:"title-text"},"Cloud",-1))),p=u((()=>(0,a._)("div",{class:"favourite-item"},[(0,a._)("span",{class:(0,i.C_)("mdi mdi-cloud mdi-18 favourite-icon")}),(0,a._)("span",{class:"medium-font"},"Share folder ")],-1)));var h=(0,a.aZ)({__name:"FavouritesPanel",props:{pathSelected:{type:String,default:""},height:{type:Number,required:!1}},emits:["onFavouriteSelect"],setup(e,{emit:t}){const l=t,u=(0,o.F)(),h=(0,a.Fl)((()=>u.favouritesPathListAndIcon)),w=e=>{l("onFavouriteSelect",e)};return(t,l)=>h.value?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"left-panel",style:(0,i.j5)(e.height?`height:${e.height-2}px`:"")},[c,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(h.value,(t=>((0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(["favourite-item",e.pathSelected===t.path?"favourite-item-selected":""]),key:"favourite-"+t,onClick:e=>w(t.path)},[(0,a._)("span",{class:(0,i.C_)(`mdi ${t.mdiIcon}  favourite-icon`)},null,2),(0,a._)("span",d,(0,i.zw)((0,s.SU)(n.Bc)(t.path)),1)],10,r)))),128)),v,p],4)):(0,a.kq)("",!0)}}),w=l(40089);const f=(0,w.Z)(h,[["__scopeId","data-v-37fc0299"]]);var m=f},85134:function(e,t,l){l.d(t,{Z:function(){return L}});var a=l(73396),i=l(87139),s=l(44870),n=l(43179),o=l(30998),u=l(65997),c=l(83630),r=l(56808),d=l(15083),v=l(59025),p=l(67250);const h=e=>((0,a.dD)("data-v-a650a4c0"),e=e(),(0,a.Cn)(),e),w={style:{color:"white"}},f={class:"flex"},m={class:"right-panel"},g={class:"input-list"},y={key:0,class:"input"},_=h((()=>(0,a._)("div",{class:"label"},"Save as:",-1))),k={class:"input"},D={class:"label"},x={class:"selected-folder flex"},S=["src"],C={class:"path-and-files-container"},B={class:"buttons-container"};var F=(0,a.aZ)({__name:"SelectedFolderDialog",props:{to:String,showSaveAsInput:{type:Boolean,default:!0},inputLabelText:{type:String,default:"Destination"},actionButtonText:{type:String,default:"Save"}},emits:["closeDialog","onFolderSelected"],setup(e,{emit:t}){const h=e,F=t,b=(0,s.iH)(""),I=(0,s.iH)([]),L=(0,s.iH)(d.Ll),Z=(0,a.Fl)((()=>(0,p.Bc)(L.value))),H=async(e,t)=>{z(e,t),await v.Z.isDir(e)?L.value=e:b.value=(0,p.Bc)(e)},A=e=>e.map((e=>e.path)),P=(e,t)=>{if(-1===t)return[];const l=[...e];return e.length>t&&l.splice(t+1),l},z=async(e,t)=>{const l=P(I.value,t),a=await v.Z.getFiles(e,!0),i=[];for(const n of a){const e=await v.Z.isDir(n);i.push({path:n,isFolder:e})}const s={path:e,files:i};l.push(s),I.value=l},M=()=>{F("closeDialog")},U=()=>{if((h.showSaveAsInput&&b.value||!h.showSaveAsInput)&&L.value){let e=L.value;h.showSaveAsInput&&(e+="/"+b.value),F("onFolderSelected",e)}else console.log("Show error")};return(0,a.bv)((async()=>{z(d.Ll,0)})),(t,s)=>((0,a.wg)(),(0,a.iD)("div",w,[(0,a.Wm)(o.Z,{to:e.to,noPadding:!0},{default:(0,a.w5)((()=>[(0,a._)("div",f,[(0,a.Wm)(r.Z,{pathSelected:I.value[0]?I.value[0].path:"",onOnFavouriteSelect:s[0]||(s[0]=e=>H(e,-1))},null,8,["pathSelected"]),(0,a._)("div",m,[(0,a._)("div",null,[(0,a._)("div",g,[e.showSaveAsInput?((0,a.wg)(),(0,a.iD)("div",y,[_,(0,a.Wm)(n.Z,{placeholder:"Save as",modelValue:b.value,"onUpdate:modelValue":s[1]||(s[1]=e=>b.value=e)},null,8,["modelValue"])])):(0,a.kq)("",!0),(0,a._)("div",k,[(0,a._)("div",D,(0,i.zw)(e.inputLabelText)+":",1),(0,a._)("div",x,[(0,a._)("img",{height:"18",src:l(60525),alt:""},null,8,S),(0,a._)("p",null,(0,i.zw)(Z.value),1)])])]),(0,a._)("div",C,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(I.value,((t,l)=>((0,a.wg)(),(0,a.iD)("div",{key:"path-files-"+t.path,class:"path-item",style:(0,i.j5)(` height: ${e.showSaveAsInput?400:450}px;`)},[(0,a.Wm)(c["default"],{itemsList:A(t.files),canRename:!1,isFocused:!0,canChangeViewType:!1,keyEventsActive:!1,onOnItemMouseDown:e=>H(e,l)},null,8,["itemsList","onOnItemMouseDown"])],4)))),128))])]),(0,a._)("div",B,[(0,a.Wm)(u.Z,{neutralColor:"",onClick:M},{default:(0,a.w5)((()=>[(0,a.Uk)("Cancel")])),_:1}),(0,a.Wm)(u.Z,{class:"save-button",onClick:U},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.actionButtonText),1)])),_:1})])])])])),_:1},8,["to"])]))}}),b=l(40089);const I=(0,b.Z)(F,[["__scopeId","data-v-a650a4c0"]]);var L=I}}]);
//# sourceMappingURL=5134.4c9c3e94.js.map