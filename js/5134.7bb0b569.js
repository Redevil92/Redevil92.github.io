"use strict";(self["webpackChunkmy_portfolio"]=self["webpackChunkmy_portfolio"]||[]).push([[5134],{83630:function(e,t,l){l.r(t),l.d(t,{default:function(){return P}});var a=l(73396),i=l(87139),s=l(44870),n=l(49242),o=l(67250),u=l(69754),c=l(67695),r=l(59025);const d=(e,t=2)=>{if(!+e)return"0 Bytes";const l=1024,a=t<0?0:t,i=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(l));return`${parseFloat((e/Math.pow(l,s)).toFixed(a))} ${i[s]}`};var v=l(55280),p=l(95636);const h=e=>((0,a.dD)("data-v-5f452fde"),e=e(),(0,a.Cn)(),e),w={key:0,class:"flex-align-center table-header"},f=h((()=>(0,a._)("div",{style:{width:"400px"}},"Name",-1))),m=h((()=>(0,a._)("div",{style:{width:"170px"}},"Date modified",-1))),g=h((()=>(0,a._)("div",{style:{width:"100px"}},"Size",-1))),y=[f,m,g],_=["onDblclick","onMousedown","onContextmenu"],k=["onKeyup","onBlur"],D={key:1,class:"file-text-preview"},S={class:"flex",style:{width:"400px"}},x={key:0},C=["onKeyup","onBlur"],B={key:1,style:{width:"290px"},class:"file-text one-line-ellipsis noselect"},F={key:0,class:"prop-field",style:{width:"170px"}},b={key:1,class:"prop-field",style:{width:"100px"}},I={key:0,class:"footer flex"},L={class:"items-count"},Z={style:{"margin-right":"15px"}};var H=(0,a.aZ)({props:{itemsList:{type:Array,required:!0},isFocused:Boolean,canRename:Boolean,keyEventsActive:{type:Boolean,default:!0},canChangeViewType:{type:Boolean,default:!0},showProperties:{type:Boolean,default:!1},height:{type:Number}},emits:["onDoubleClick","onRightClick","renameFileHandler","onItemMouseDown","onSelectedItemsChange"],setup(e,{emit:t}){const l=e,h=(0,c.H)(),f=(0,p.F)(),m=(0,s.iH)("list"),g=(0,s.iH)([]),H=(0,s.iH)(!1),U=(0,s.iH)(""),A=(0,s.iH)(null),P=(0,s.iH)(null),z=(0,s.iH)(200),M=(0,s.iH)([]),T=(0,a.Fl)((()=>f.timeFormat)),q=(0,a.Fl)((()=>f.dateFormat));(0,a.YP)((()=>g.value),(async function(){t("onSelectedItemsChange",g.value)}));const R=()=>{console.log("Drag start")},K=async()=>{const e=[];for(const t of l.itemsList){const a=l.showProperties?await r.Z.getStat(t):void 0;e.push({path:t,properties:a})}M.value=e};(0,a.m0)((async()=>{l.itemsList&&await K()}));const N=e=>{const t=h.filePathsToCut;return!!t.includes(e)},V=async e=>{t("onItemMouseDown",e),g.value.includes(e)&&1===g.value.length?!H.value&&l.canRename&&(U.value=(0,o.Bc)(e),setTimeout((async()=>{H.value=!H.value}),600)):(g.value=[e],H.value=!1)},W=async e=>{H.value||t("onDoubleClick",e)},$=(e,l)=>{t("onRightClick",{event:e,filePath:l})},E=e=>{t("renameFileHandler",{newName:(0,o.bn)(e)+"/"+U.value,oldName:e})},Y=()=>{g.value=[],H.value=!1},j=e=>{if(l.isFocused&&g.value.length>0&&l.itemsList&&l.keyEventsActive)if("ArrowDown"===e.code){const e=l.itemsList.findIndex((e=>e===g.value[g.value.length-1]));-1!==e&&l.itemsList.length>e+1&&(g.value=[l.itemsList[e+1]])}else if("ArrowUp"===e.code){const e=l.itemsList.findIndex((e=>e===g.value[g.value.length-1]));e>0&&(g.value=[l.itemsList[e-1]])}};return(0,a.bv)((async()=>{l.keyEventsActive&&window.addEventListener("keydown",j),await K()})),(0,a.Ah)((()=>{window.removeEventListener("keydown",j)})),(t,l)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",{style:(0,i.j5)(e.height?`height:${e.height}px`:""),class:(0,i.C_)(["container",{"grid-container":"preview"===m.value}]),onMousedown:Y},[(0,a._)("span",{class:"input-placeholder",ref_key:"fileNameToChangeSpanRef",ref:P},(0,i.zw)((0,s.SU)(o.Bc)(U.value)),513),"list"===m.value&&e.showProperties?((0,a.wg)(),(0,a.iD)("div",w,y)):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(M.value,(t=>((0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)({"cut-item":N(t.path)}),draggable:"true",key:`item-${t.path}`,onDblclick:e=>W(t.path),onDragstart:R,onMousedown:(0,n.iM)((e=>V(t.path)),["stop"]),onContextmenu:(0,n.iM)((e=>$(e,t.path)),["right"])},["preview"===m.value?((0,a.wg)(),(0,a.iD)("div",{key:0,draggable:"true",onDragstart:R},[(0,a.Wm)(u.Z,{selected:g.value.includes(t.path),height:60,filePath:t.path},null,8,["selected","filePath"]),(0,a._)("div",{class:(0,i.C_)([g.value.includes(t.path)?"file-text-preview-selected":"","file-text-preview"])},[g.value.includes(t.path)&&H.value&&e.canRename?(0,a.wy)(((0,a.wg)(),(0,a.iD)("textarea",{key:0,ref_for:!0,ref_key:"fileNameInputRef",ref:A,onKeyup:(0,n.D2)((e=>E(t.path)),["enter"]),onBlur:e=>E(t.path),rows:"2",class:"no-outline file-text-preview","onUpdate:modelValue":l[0]||(l[0]=e=>U.value=e)},null,40,k)),[[n.nr,U.value]]):((0,a.wg)(),(0,a.iD)("div",D,(0,i.zw)((0,s.SU)(o.Bc)(t.path)),1))],2)],32)):(0,a.kq)("",!0),"list"===m.value?((0,a.wg)(),(0,a.iD)("div",{key:1,class:(0,i.C_)(["flex-align-center list-folder-item",{"selected-item":g.value.includes(t.path)}]),draggable:"true"},[(0,a._)("div",S,[(0,a.Wm)(u.Z,{class:"file-icon",noStyle:!0,height:18,filePath:t.path},null,8,["filePath"]),g.value.includes(t.path)&&H.value&&e.canRename?((0,a.wg)(),(0,a.iD)("span",x,[(0,a.wy)((0,a._)("input",{ref_for:!0,ref_key:"fileNameInputRef",ref:A,class:"file-text no-outline","onUpdate:modelValue":l[1]||(l[1]=e=>U.value=e),onKeyup:[(0,n.D2)((e=>E(t.path)),["enter"]),l[2]||(l[2]=(0,n.D2)((e=>H.value=!1),["esc"]))],onBlur:e=>E(t.path),type:"text",style:(0,i.j5)(`width:${z.value}px`)},null,44,C),[[n.nr,U.value]])])):((0,a.wg)(),(0,a.iD)("div",B,(0,i.zw)((0,s.SU)(o.Bc)(t.path)),1))]),e.showProperties&&t.properties?((0,a.wg)(),(0,a.iD)("div",F,(0,i.zw)((0,s.SU)(v.Am)(t.properties.ctime,(0,s.SU)(q)))+" "+(0,i.zw)((0,s.SU)(v.rx)(t.properties.ctime,(0,s.SU)(T))),1)):(0,a.kq)("",!0),e.showProperties&&t.properties?((0,a.wg)(),(0,a.iD)("div",b,(0,i.zw)((0,s.SU)(d)(t.properties.size)),1)):(0,a.kq)("",!0)],2)):(0,a.kq)("",!0)],42,_)))),128))],38),e.canChangeViewType?((0,a.wg)(),(0,a.iD)("div",I,[(0,a._)("div",L,(0,i.zw)(e.itemsList.length)+" item"+(0,i.zw)(e.itemsList.length>1?"s":""),1),(0,a._)("div",Z,[(0,a._)("span",{class:(0,i.C_)(["mdi mdi-format-list-bulleted preview-icon",{"preview-icon-selected":"list"===m.value}]),onClick:l[3]||(l[3]=e=>m.value="list")},null,2),(0,a._)("span",{class:(0,i.C_)(["mdi mdi-card-outline preview-icon",{"preview-icon-selected":"preview"===m.value}]),onClick:l[4]||(l[4]=e=>m.value="preview")},null,2)])])):(0,a.kq)("",!0)],64))}}),U=l(40089);const A=(0,U.Z)(H,[["__scopeId","data-v-5f452fde"]]);var P=A},56808:function(e,t,l){l.d(t,{Z:function(){return m}});var a=l(73396),i=l(87139),s=l(44870),n=l(67250),o=l(95636);const u=e=>((0,a.dD)("data-v-37fc0299"),e=e(),(0,a.Cn)(),e),c=u((()=>(0,a._)("div",{class:"title-text"},"Favourites",-1))),r=["onClick"],d={class:"medium-font"},v=u((()=>(0,a._)("div",{class:"title-text"},"Cloud",-1))),p=u((()=>(0,a._)("div",{class:"favourite-item"},[(0,a._)("span",{class:(0,i.C_)("mdi mdi-cloud mdi-18 favourite-icon")}),(0,a._)("span",{class:"medium-font"},"Share folder ")],-1)));var h=(0,a.aZ)({props:{pathSelected:{type:String,default:""},height:{type:Number,required:!1}},emits:["onFavouriteSelect"],setup(e,{emit:t}){const l=(0,o.F)(),u=(0,a.Fl)((()=>l.favouritesPathListAndIcon)),h=e=>{t("onFavouriteSelect",e)};return(t,l)=>(0,s.SU)(u)?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"left-panel",style:(0,i.j5)(e.height?`height:${e.height-2}px`:"")},[c,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,s.SU)(u),(t=>((0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(["favourite-item",e.pathSelected===t.path?"favourite-item-selected":""]),key:"favourite-"+t,onClick:e=>h(t.path)},[(0,a._)("span",{class:(0,i.C_)(`mdi ${t.mdiIcon}  favourite-icon`)},null,2),(0,a._)("span",d,(0,i.zw)((0,s.SU)(n.Bc)(t.path)),1)],10,r)))),128)),v,p],4)):(0,a.kq)("",!0)}}),w=l(40089);const f=(0,w.Z)(h,[["__scopeId","data-v-37fc0299"]]);var m=f},85134:function(e,t,l){l.d(t,{Z:function(){return Z}});var a=l(73396),i=l(87139),s=l(44870),n=l(43179),o=l(30998),u=l(81681),c=l(83630),r=l(56808),d=l(15083),v=l(59025),p=l(67250);const h=e=>((0,a.dD)("data-v-a650a4c0"),e=e(),(0,a.Cn)(),e),w={style:{color:"white"}},f={class:"flex"},m={class:"right-panel"},g={class:"input-list"},y={key:0,class:"input"},_=h((()=>(0,a._)("div",{class:"label"},"Save as:",-1))),k={class:"input"},D={class:"label"},S={class:"selected-folder flex"},x=["src"],C={class:"path-and-files-container"},B={class:"buttons-container"},F=(0,a.Uk)("Cancel");var b=(0,a.aZ)({props:{to:String,showSaveAsInput:{type:Boolean,default:!0},inputLabelText:{type:String,default:"Destination"},actionButtonText:{type:String,default:"Save"}},emits:["closeDialog","onFolderSelected"],setup(e,{emit:t}){const h=e,b=(0,s.iH)(""),I=(0,s.iH)([]),L=(0,s.iH)(d.Ll),Z=(0,a.Fl)((()=>(0,p.Bc)(L.value))),H=async(e,t)=>{P(e,t),await v.Z.isDir(e)?L.value=e:b.value=(0,p.Bc)(e)},U=e=>e.map((e=>e.path)),A=(e,t)=>{if(-1===t)return[];const l=[...e];return e.length>t&&l.splice(t+1),l},P=async(e,t)=>{const l=A(I.value,t),a=await v.Z.getFiles(e,!0),i=[];for(const n of a){const e=await v.Z.isDir(n);i.push({path:n,isFolder:e})}const s={path:e,files:i};l.push(s),I.value=l},z=()=>{t("closeDialog")},M=()=>{if((h.showSaveAsInput&&b.value||!h.showSaveAsInput)&&L.value){let e=L.value;h.showSaveAsInput&&(e+="/"+b.value),t("onFolderSelected",e)}else console.log("Show error")};return(0,a.bv)((async()=>{P(d.Ll,0)})),(t,d)=>((0,a.wg)(),(0,a.iD)("div",w,[(0,a.Wm)(o.Z,{to:e.to,noPadding:!0},{default:(0,a.w5)((()=>[(0,a._)("div",f,[(0,a.Wm)(r.Z,{pathSelected:I.value[0]?I.value[0].path:"",onOnFavouriteSelect:d[0]||(d[0]=e=>H(e,-1))},null,8,["pathSelected"]),(0,a._)("div",m,[(0,a._)("div",null,[(0,a._)("div",g,[e.showSaveAsInput?((0,a.wg)(),(0,a.iD)("div",y,[_,(0,a.Wm)(n.Z,{placeholder:"Save as",modelValue:b.value,"onUpdate:modelValue":d[1]||(d[1]=e=>b.value=e)},null,8,["modelValue"])])):(0,a.kq)("",!0),(0,a._)("div",k,[(0,a._)("div",D,(0,i.zw)(e.inputLabelText)+":",1),(0,a._)("div",S,[(0,a._)("img",{height:"18",src:l(60525),alt:""},null,8,x),(0,a._)("p",null,(0,i.zw)((0,s.SU)(Z)),1)])])]),(0,a._)("div",C,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(I.value,((t,l)=>((0,a.wg)(),(0,a.iD)("div",{key:"path-files-"+t.path,class:"path-item",style:(0,i.j5)(` height: ${e.showSaveAsInput?400:450}px;`)},[(0,a.Wm)(c["default"],{itemsList:U(t.files),canRename:!1,isFocused:!0,canChangeViewType:!1,keyEventsActive:!1,onOnItemMouseDown:e=>H(e,l)},null,8,["itemsList","onOnItemMouseDown"])],4)))),128))])]),(0,a._)("div",B,[(0,a.Wm)(u.Z,{neutralColor:"",onClick:z},{default:(0,a.w5)((()=>[F])),_:1}),(0,a.Wm)(u.Z,{class:"save-button",onClick:M},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.actionButtonText),1)])),_:1})])])])])),_:1},8,["to"])]))}}),I=l(40089);const L=(0,I.Z)(b,[["__scopeId","data-v-a650a4c0"]]);var Z=L}}]);
//# sourceMappingURL=5134.7bb0b569.js.map