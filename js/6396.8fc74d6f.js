"use strict";(self["webpackChunkmy_portfolio"]=self["webpackChunkmy_portfolio"]||[]).push([[6396],{6396:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});a(3462);var o=a(3396),l=a(4870),n=(0,o.aZ)({props:{audioElement:Object},setup(e){const t=e,a=(0,l.iH)(),n=(0,l.iH)(null),i=(0,l.iH)(new window.AudioContext);function u(){if(a.value&&n.value){const e=n.value.frequencyBinCount,t=new Uint8Array(e),o=a.value.getContext("2d");o?.clearRect(0,0,a.value.width,a.value.height),n.value?.getByteFrequencyData(t),c(e,t,o,a.value)}requestAnimationFrame(u)}const c=(e,t,a,o)=>{const l=getComputedStyle(document.body);let n;a.fillStyle=l.getPropertyValue("--font-color");const i=o.width/2/e;let u=0,c=e*i;a.clearRect(0,0,o.width,o.height),r();const v=255;for(let r=0;r<e;r++)n=t[r]/v*o.height,s(a,o.width/2-u,(o.height-n)/2,i/1.7,n,30),s(a,c,(o.height-n)/2,i/1.7,n,30),u+=i,c+=i},r=()=>{const e=window.devicePixelRatio;if(a.value){const t=+getComputedStyle(a.value).getPropertyValue("height").slice(0,-2),o=+getComputedStyle(a.value).getPropertyValue("width").slice(0,-2);a.value.setAttribute("height",(t*e).toString()),a.value.setAttribute("width",(o*e).toString())}},s=function(e,t,a,o,l,n){o<2*n&&(n=o/2),l<2*n&&(n=l/2);const i=getComputedStyle(document.body).getPropertyValue("--font-color");e.fillStyle=i,e.beginPath(),e.moveTo(t+n,a),e.arcTo(t+o,a,t+o,a+l,n),e.arcTo(t+o,a+l,t,a+l,n),e.arcTo(t,a+l,t,a,n),e.arcTo(t,a,t+o,a,n),e.closePath(),e.fill()},v=()=>{if(t.audioElement&&a.value){const e=i.value.createMediaElementSource(t.audioElement);n.value=i.value.createAnalyser(),e.connect(n.value),n.value.connect(i.value.destination),n.value.smoothingTimeConstant=.9,n.value.fftSize=32,u()}};return(0,o.bv)((async()=>{v()})),(e,t)=>((0,o.wg)(),(0,o.iD)("canvas",{id:"canvas-audio",ref_key:"canvasRef",ref:a,class:"audio-canvas"},null,512))}}),i=a(89);const u=(0,i.Z)(n,[["__scopeId","data-v-62953aa2"]]);var c=u}}]);
//# sourceMappingURL=6396.8fc74d6f.js.map