"use strict";(self["webpackChunkmy_portfolio"]=self["webpackChunkmy_portfolio"]||[]).push([[6396],{26396:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});a(3462);var o=a(73396),n=a(44870),l=(0,o.aZ)({__name:"AudioAnalyzer",props:{audioElement:Object},setup(e){const t=e,a=(0,n.iH)(),l=(0,n.iH)(null),i=(0,n.iH)(new window.AudioContext);function u(){if(a.value&&l.value){const e=l.value.frequencyBinCount,t=new Uint8Array(e),o=a.value.getContext("2d");o?.clearRect(0,0,a.value.width,a.value.height),l.value?.getByteFrequencyData(t),c(e,t,o,a.value)}requestAnimationFrame(u)}const c=(e,t,a,o)=>{const n=getComputedStyle(document.body);let l;a.fillStyle=n.getPropertyValue("--font-color");const i=o.width/2/e;let u=0,c=e*i;a.clearRect(0,0,o.width,o.height),r();const d=255;for(let r=0;r<e;r++)l=t[r]/d*o.height,s(a,o.width/2-u,(o.height-l)/2,i/1.7,l,30),s(a,c,(o.height-l)/2,i/1.7,l,30),u+=i,c+=i},r=()=>{const e=window.devicePixelRatio;if(a.value){const t=+getComputedStyle(a.value).getPropertyValue("height").slice(0,-2),o=+getComputedStyle(a.value).getPropertyValue("width").slice(0,-2);a.value.setAttribute("height",(t*e).toString()),a.value.setAttribute("width",(o*e).toString())}},s=function(e,t,a,o,n,l){o<2*l&&(l=o/2),n<2*l&&(l=n/2);const i=getComputedStyle(document.body).getPropertyValue("--font-color");e.fillStyle=i,e.beginPath(),e.moveTo(t+l,a),e.arcTo(t+o,a,t+o,a+n,l),e.arcTo(t+o,a+n,t,a+n,l),e.arcTo(t,a+n,t,a,l),e.arcTo(t,a,t+o,a,l),e.closePath(),e.fill()},d=()=>{if(t.audioElement&&a.value){const e=i.value.createMediaElementSource(t.audioElement);l.value=i.value.createAnalyser(),e.connect(l.value),l.value.connect(i.value.destination),l.value.smoothingTimeConstant=.9,l.value.fftSize=32,u()}};return(0,o.bv)((async()=>{d()})),(e,t)=>((0,o.wg)(),(0,o.iD)("canvas",{id:"canvas-audio",ref_key:"canvasRef",ref:a,class:"audio-canvas"},null,512))}}),i=a(40089);const u=(0,i.Z)(l,[["__scopeId","data-v-62953aa2"]]);var c=u}}]);
//# sourceMappingURL=6396.b6bb5242.js.map