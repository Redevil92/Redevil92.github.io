"use strict";(self["webpackChunkmy_portfolio"]=self["webpackChunkmy_portfolio"]||[]).push([[6649],{6649:function(e,t,i){i.r(t),i.d(t,{default:function(){return b}});var l=i(3396),a=i(7139),n=i(9242);const o=e=>((0,l.dD)("data-v-ba70c8fe"),e=e(),(0,l.Cn)(),e),s={key:0,class:"flex-align-center table-header"},r=o((()=>(0,l._)("div",{style:{"flex-grow":"1"}},"Name",-1))),c=o((()=>(0,l._)("div",{style:{width:"170px"}},"Date modified",-1))),d=o((()=>(0,l._)("div",{style:{width:"100px"}},"Size",-1))),m=[r,c,d],p=["onDblclick","onMousedown","onContextmenu"],u={key:0},g={style:{"flex-grow":"1"}},f={key:0},w={key:1,class:"file-text noselect"},h={key:0,class:"prop-field",style:{width:"170px"}},v={key:1,class:"prop-field",style:{width:"100px"}},y={class:"footer flex"},F={class:"items-count"};function D(e,t,i,o,r,c){const d=(0,l.up)("FileIcon");return(0,l.wg)(),(0,l.iD)("div",{class:(0,a.C_)(["container",{"grid-container":"preview"===e.viewType}])},[(0,l._)("span",{class:"input-placeholder",ref:"fileNameToChangeSpanRef"},(0,a.zw)(e.getFileNameFromPath(e.fileNameToChange)),513),"list"===e.viewType&&e.showProperties?((0,l.wg)(),(0,l.iD)("div",s,m)):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.itemsListWithProperties,((i,o)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,a.C_)({"cut-item":e.isCutFile(i.path)}),key:`item-${o}-${i.path}`,onDblclick:t=>e.doubleClickHandler(i.path),onMousedown:(0,n.iM)((t=>e.itemClickHandler(i.path)),["stop"]),onContextmenu:(0,n.iM)((t=>e.rightClickHandler(t,i.path)),["right"])},["preview"===e.viewType?((0,l.wg)(),(0,l.iD)("div",u,[(0,l.Wm)(d,{selected:i.path===e.selectedItem,height:60,filePath:i.path},null,8,["selected","filePath"]),(0,l._)("div",{class:(0,a.C_)([i.path===e.selectedItem?"file-text-preview-selected":"","file-text-preview"])},[i.path===e.selectedItem&&e.isEditingSelectedValue&&e.canRename?(0,l.wy)(((0,l.wg)(),(0,l.iD)("textarea",{key:0,ref_for:!0,ref:"fileNameInputRef",onKeyup:t[0]||(t[0]=(0,n.D2)(((...t)=>e.renameFileHandler&&e.renameFileHandler(...t)),["enter"])),onBlur:t[1]||(t[1]=(...t)=>e.changeFileName&&e.changeFileName(...t)),rows:"2",class:"no-outline file-text-preview","onUpdate:modelValue":t[2]||(t[2]=t=>e.fileNameToChange=t)},null,544)),[[n.nr,e.fileNameToChange]]):((0,l.wg)(),(0,l.iD)("div",{key:1,class:"file-text-preview",onClick:t[3]||(t[3]=(...t)=>e.setIsEditingText&&e.setIsEditingText(...t))},(0,a.zw)(e.getFileNameFromPath(i.path)),1))],2)])):(0,l.kq)("",!0),"list"===e.viewType?((0,l.wg)(),(0,l.iD)("div",{key:1,class:(0,a.C_)(["flex-align-center list-folder-item",{"selected-item":i.path===e.selectedItem}]),draggable:"true",onDragstart:t[8]||(t[8]=(...t)=>e.dragStartHandler&&e.dragStartHandler(...t))},[(0,l.Wm)(d,{class:"file-icon",noStyle:!0,height:18,filePath:i.path},null,8,["filePath"]),(0,l._)("div",g,[i.path===e.selectedItem&&e.isEditingSelectedValue&&e.canRename?((0,l.wg)(),(0,l.iD)("span",f,[(0,l.wy)((0,l._)("input",{ref_for:!0,ref:"fileNameInputRef",class:"file-text no-outline","onUpdate:modelValue":t[4]||(t[4]=t=>e.fileNameToChange=t),onKeyup:[t[5]||(t[5]=(0,n.D2)(((...t)=>e.renameFileHandler&&e.renameFileHandler(...t)),["enter"])),t[7]||(t[7]=(0,n.D2)((t=>e.isEditingSelectedValue=!1),["esc"]))],onBlur:t[6]||(t[6]=(...t)=>e.renameFileHandler&&e.renameFileHandler(...t)),type:"text",style:(0,a.j5)(`width:${e.fileFocusedWidth}px`)},null,36),[[n.nr,e.fileNameToChange]])])):((0,l.wg)(),(0,l.iD)("span",w,(0,a.zw)(e.getFileNameFromPath(i.path)),1))]),e.showProperties?((0,l.wg)(),(0,l.iD)("div",h,(0,a.zw)(e.formatStringDate(i.properties.ctime,e.dateFormat))+" "+(0,a.zw)(e.formatTimeFromStringDate(i.properties.ctime,e.timeFormat)),1)):(0,l.kq)("",!0),e.showProperties?((0,l.wg)(),(0,l.iD)("div",v,(0,a.zw)(e.formatBytes(i.properties.size)),1)):(0,l.kq)("",!0)],34)):(0,l.kq)("",!0)],42,p)))),128)),(0,l._)("div",y,[(0,l._)("div",F,(0,a.zw)(e.itemsList.length)+" item"+(0,a.zw)(e.itemsList.length>1?"s":""),1),(0,l._)("div",null,[(0,l._)("span",{class:(0,a.C_)(["mdi mdi-format-list-bulleted preview-icon",{"preview-icon-selected":"list"===e.viewType}]),onClick:t[9]||(t[9]=t=>e.viewType="list")},null,2),(0,l._)("span",{class:(0,a.C_)(["mdi mdi-card-outline preview-icon",{"preview-icon-selected":"preview"===e.viewType}]),onClick:t[10]||(t[10]=t=>e.viewType="preview")},null,2)])])],2)}var k=i(4870),C=i(7401),H=i(8097),S=i(7695),x=i(7103);const T=(e,t=2)=>{if(!+e)return"0 Bytes";const i=1024,l=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],n=Math.floor(Math.log(e)/Math.log(i));return`${parseFloat((e/Math.pow(i,n)).toFixed(l))} ${a[n]}`},_=(e,t)=>{const i=new Date(e),l=i.getDay()<10?"0"+i.getDay().toString():i.getDay().toString(),a=i.getMonth()<10?"0"+i.getMonth().toString():i.getMonth().toString(),n=i.getFullYear().toString();return t.replace("DD",l).replace("MM",a).replace("YYYY",n)},M=(e,t)=>{const i=new Date(e),l=t.includes("XM"),a=i.getSeconds()<10?"0"+i.getSeconds().toString():i.getSeconds().toString(),n=i.getMinutes()<10?"0"+i.getMinutes().toString():i.getMinutes().toString();let o=i.getHours(),s="";return l&&(s=o>=12?"pm":"am",o%=12,o=o||12),t.replace("HH",o.toString()).replace("MM",n).replace("SS",a).replace("XM",s)};var N=i(5636),B=(0,l.aZ)({props:{itemsList:{type:Array,required:!0},isFocused:Boolean,canRename:Boolean,showProperties:{type:Boolean,default:!1}},components:{FileIcon:H.Z},emits:["onDoubleClick","onRightClick","renameFileHandler","onTryDeleteItem"],setup(e,t){const i=(0,S.H)(),a=(0,N.F)(),n=(0,k.iH)("list"),o=(0,k.iH)(""),s=(0,k.iH)(!1),r=(0,k.iH)(""),c=(0,k.iH)(null),d=(0,k.iH)(null),m=(0,k.iH)(200),p=(0,k.iH)([]),u=(0,l.Fl)((()=>a.timeFormat)),g=(0,l.Fl)((()=>a.dateFormat)),f=async()=>{const t=[];for(const i of e.itemsList){const l=e.showProperties?await(0,x.WG)(i):void 0;t.push({path:i,properties:l})}p.value=t};(0,l.m0)((async()=>{e.itemsList&&await f()}));const w=e=>{const t=i.filePathsToCut;return!!t.includes(e)},h=async t=>{t!==o.value?(o.value=t,s.value=!1):!s.value&&e.canRename&&(r.value=(0,C.Bc)(t),setTimeout((async()=>{s.value=!s.value}),600))},v=async e=>{s.value||t.emit("onDoubleClick",e)},y=(e,i)=>{t.emit("onRightClick",{event:e,filePath:i})},F=()=>{t.emit("renameFileHandler",{newName:(0,C.bn)(o.value)+"/"+r.value,oldName:o.value})},D=()=>{o.value="",s.value=!1},H=i=>{if(e.isFocused&&o.value&&e.itemsList)if("Delete"===i.code&&o.value)t.emit("onTryDeleteItem",o.value);else if("ArrowDown"===i.code){const t=e.itemsList.findIndex((e=>e===o.value));-1!==t&&e.itemsList.length>t+1&&(o.value=e.itemsList[t+1])}else if("ArrowUp"===i.code){const t=e.itemsList.findIndex((e=>e===o.value));t>0&&(o.value=e.itemsList[t-1])}};return(0,l.bv)((async()=>{window.addEventListener("keydown",H),await f()})),(0,l.se)((()=>{window.removeEventListener("keydown",H)})),{getFileNameFromPath:C.Bc,getFileExtensionFromName:C.vj,itemClickHandler:h,doubleClickHandler:v,rightClickHandler:y,deselectItem:D,isCutFile:w,renameFileHandler:F,formatBytes:T,formatStringDate:_,formatTimeFromStringDate:M,viewType:n,dateFormat:g,timeFormat:u,itemsListWithProperties:p,selectedItem:o,isEditingSelectedValue:s,fileNameToChange:r,fileNameInputRef:c,fileNameToChangeSpanRef:d,fileFocusedWidth:m}}}),I=i(89);const P=(0,I.Z)(B,[["render",D],["__scopeId","data-v-ba70c8fe"]]);var b=P}}]);
//# sourceMappingURL=6649.7be9d46e.js.map