"use strict";(self["webpackChunkmy_portfolio"]=self["webpackChunkmy_portfolio"]||[]).push([[6657,205],{76657:function(e,t,i){i.r(t),i.d(t,{default:function(){return b}});var l=i(56768),a=i(45130),n=i(24232),o=i(90144),s=i(55564),u=i(63621),r=i(50205),c=i(27313),d=i(7594),p=i(28723),v=i(60381),h=i(88351);function m(e){const t=(0,o.KR)(!1),i=i=>{const l=e.value?.getBoundingClientRect();l&&i.clientX<l.x+l.width&&i.clientX>l.x&&i.clientY<l.y+l.height&&i.clientY>l.y?t.value=!0:t.value=!1};return(0,l.sV)((()=>{window.addEventListener("mousemove",i)})),(0,l.hi)((()=>{window.removeEventListener("mousemove",i)})),{isMouseOver:t}}const f=e=>((0,l.Qi)("data-v-c2154786"),e=e(),(0,l.jt)(),e),g=["id"],y={class:"flex"},k=f((()=>(0,l.Lk)("div",{class:"mdi mdi-folder path-padding"},null,-1))),w=f((()=>(0,l.Lk)("span",{class:"mdi mdi-folder path-padding"},null,-1))),C=f((()=>(0,l.Lk)("span",{class:"mdi mdi-chevron-right path-padding"},null,-1))),L=["onClick"],x={key:0,class:"mdi mdi-chevron-right path-padding"},D={class:"flex-start"};var R=(0,l.pM)({__name:"FolderItem",props:{itemDialog:{type:Object,required:!0},height:{type:Number,required:!0}},setup(e){const t=e,i=(0,p.g)(),f=(0,o.KR)(null),R=(0,o.KR)(null),E=(0,o.KR)(!1),F=(0,o.KR)(t.itemDialog?.path),{moveFilesInFolder:b,setFilesToMove:_}=(0,d.A)(),{isMouseOver:P}=m(f);(0,l.wB)((()=>t.itemDialog),((e,t)=>{e?.path!==t?.path&&t?.path&&(F.value=t.path)}));const I=(0,l.EW)((function(){return""!==i.dragginPath})),A=e=>{const l=Object.assign({},t.itemDialog);l.selectedFilesPath=e,i.updateItemDialog(l)},X=async e=>{const t=await s.A.isDir(e);if(t)S(e);else{const t={path:e,coordinates:{x:0,y:0},isSelected:!0};i.createItemDialog(t)}},B=async(e,t=!1)=>{e.event.preventDefault(),e.event.stopPropagation();const l=e.event,a=t?[(0,v.zE)(l,e.filePath),(0,v.$P)(l,e.filePath),await(0,v.I2)(e.filePath,!1,!1,!1)]:[...await(0,h.q)([e.filePath],e.event)];i.setActionMenu({show:!0,paths:[e.filePath],position:{x:l.clientX,y:l.clientY},customLayout:a})},K=()=>{$(!1),F.value=t.itemDialog?.path},M=async e=>{b(e,t.itemDialog?.path||"")},S=e=>{O(),i.updateItemDialogPath({newPath:e,itemDialog:t.itemDialog}),F.value=e},Q=e=>{i.renameFile(e.newName,e.oldName),T()},$=async e=>{e&&R.value&&setTimeout((()=>{R.value?.focus(),R.value?.select()}),10),E.value=e},T=()=>{i.refreshAllItemDialogFiles(),i.fetchDesktopItems()},N=(0,l.EW)((function(){return t.itemDialog?.path.split("/")})),j=(e,t)=>{if(void 0===e)return"";let i="";for(let l=0;l<=t;l++)0!==l&&(i+="/"),i+=e[l];return i},O=()=>{i.setFocusedItemDialog(t.itemDialog||null)};return(t,i)=>e.itemDialog?((0,l.uX)(),(0,l.CE)("div",{key:0,onClick:O,onContextmenu:i[8]||(i[8]=(0,a.D$)((t=>B({event:t,filePath:e.itemDialog?.path||""},!0)),["right"])),class:"droppable",id:e.itemDialog.path},[(0,l.Lk)("div",{style:(0,n.Tr)(`height:${e.height-5}px; position:relative`)},[(0,l.Lk)("div",{class:"folder-actions",onClick:i[4]||(i[4]=e=>E.value=!0)},[(0,l.bo)((0,l.Lk)("div",y,[k,(0,l.bo)((0,l.Lk)("input",{ref_key:"fullPathInputRef",ref:R,class:"no-style-input path-input","onUpdate:modelValue":i[0]||(i[0]=e=>F.value=e),onKeyup:[i[1]||(i[1]=(0,a.jR)((e=>S(F.value||"")),["enter"])),(0,a.jR)(K,["esc"])],onBlur:K,type:"text"},null,544),[[a.Jo,F.value]])],512),[[a.aG,E.value]]),N.value?(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",{key:0,class:"flex",onMousedn:i[3]||(i[3]=e=>$(!0))},[w,C,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(N.value,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:"path-"+t+"-"+e,class:"flex"},[(0,l.Lk)("div",{class:"path-item path-padding",onMousedown:i[2]||(i[2]=(0,a.D$)((()=>{}),["stop"])),onClick:(0,a.D$)((e=>S(j(N.value,t))),["stop"])},(0,n.v_)(e),41,L),N.value.length>t+1?((0,l.uX)(),(0,l.CE)("span",x)):(0,l.Q3)("",!0)])))),128))],544)),[[a.aG,!E.value]]):(0,l.Q3)("",!0)]),(0,l.Lk)("div",D,[(0,l.bF)(c.A,{height:e.height-35,onOnFavouriteSelect:i[5]||(i[5]=e=>S(e))},null,8,["height"]),(0,l.bF)(u.A,{dropPath:e.itemDialog.path,style:{"flex-grow":"1","overflow-x":"auto",position:"relative","padding-bottom":"30px"}},{default:(0,l.k6)((()=>[(0,l.Lk)("div",{onMousedown:i[7]||(i[7]=e=>E.value=!1),onDrop:M,class:(0,n.C4)(["folder-item-list",{"folder-item-list-drag-over":I.value&&(0,o.R1)(P)}]),ref_key:"folderContentRef",ref:f},[(0,l.bF)(r["default"],{itemsList:e.itemDialog.filesPath,canRename:!0,showProperties:!0,height:e.height-50-20,isFocused:e.itemDialog.isFocused,onOnDoubleClick:X,onOnRightClick:i[6]||(i[6]=e=>B(e,!1)),onRenameFileHandler:Q,onOnSelectedItemsChange:A},null,8,["itemsList","height","isFocused"])],34)])),_:1},8,["dropPath"])])],4)],40,g)):(0,l.Q3)("",!0)}}),E=i(71241);const F=(0,E.A)(R,[["__scopeId","data-v-c2154786"]]);var b=F},50205:function(e,t,i){i.r(t),i.d(t,{default:function(){return K}});i(44114);var l=i(56768),a=i(24232),n=i(90144),o=i(45130),s=i(92759),u=i(4983),r=i(28723),c=i(55564);const d=(e,t=2)=>{if(!+e)return"0 Bytes";const i=1024,l=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],n=Math.floor(Math.log(e)/Math.log(i));return`${parseFloat((e/Math.pow(i,n)).toFixed(l))} ${a[n]}`};var p=i(6910),v=i(26014);const h=e=>((0,l.Qi)("data-v-d84fbee0"),e=e(),(0,l.jt)(),e),m={key:0,class:"flex-align-center table-header"},f=h((()=>(0,l.Lk)("div",{style:{width:"400px"}},"Name",-1))),g=h((()=>(0,l.Lk)("div",{style:{width:"170px"}},"Date modified",-1))),y=h((()=>(0,l.Lk)("div",{style:{width:"100px"}},"Size",-1))),k=[f,g,y],w=["onDblclick","onMousedown","onContextmenu"],C=["onKeyup","onBlur"],L={key:1,class:"file-text-preview"},x={class:"flex",style:{width:"400px"}},D={key:0},R=["onKeyup","onBlur"],E={key:1,style:{width:"290px"},class:"file-text one-line-ellipsis noselect"},F={key:0,class:"prop-field",style:{width:"170px"}},b={key:1,class:"prop-field",style:{width:"100px"}},_={key:0,class:"footer flex"},P={class:"items-count"},I={style:{"margin-right":"15px"}};var A=(0,l.pM)({__name:"FolderItemsList",props:{itemsList:{type:Array,required:!0},isFocused:Boolean,canRename:Boolean,keyEventsActive:{type:Boolean,default:!0},canChangeViewType:{type:Boolean,default:!0},showProperties:{type:Boolean,default:!1},height:{type:Number}},emits:["onDoubleClick","onRightClick","renameFileHandler","onItemMouseDown","onSelectedItemsChange"],setup(e,{emit:t}){const i=e,h=t,f=(0,r.g)(),g=(0,v.C)(),y=(0,n.KR)("list"),A=(0,n.KR)([]),X=(0,n.KR)(!1),B=(0,n.KR)(""),K=(0,n.KR)(null),M=(0,n.KR)(null),S=(0,n.KR)(200),Q=(0,n.KR)([]),$=(0,l.EW)((()=>g.timeFormat)),T=(0,l.EW)((()=>g.dateFormat));(0,l.wB)((()=>A.value),(async function(){h("onSelectedItemsChange",A.value)}));const N=()=>{console.log("Drag start")},j=async()=>{const e=[];for(const t of i.itemsList){const l=i.showProperties?await c.A.getStat(t):void 0;e.push({path:t,properties:l})}Q.value=e};(0,l.nT)((async()=>{i.itemsList&&await j()}));const O=e=>{const t=f.filePathsToCut;return!!t.includes(e)},V=async e=>{h("onItemMouseDown",e),A.value.includes(e)&&1===A.value.length?!X.value&&i.canRename&&(B.value=(0,s.lA)(e),setTimeout((async()=>{X.value=!X.value}),600)):(A.value=[e],X.value=!1)},q=async e=>{X.value||h("onDoubleClick",e)},W=(e,t)=>{h("onRightClick",{event:e,filePath:t})},U=e=>{h("renameFileHandler",{newName:(0,s.Qv)(e)+"/"+B.value,oldName:e})},Y=()=>{A.value=[],X.value=!1},z=e=>{if(i.isFocused&&A.value.length>0&&i.itemsList&&i.keyEventsActive)if("ArrowDown"===e.code){const e=i.itemsList.findIndex((e=>e===A.value[A.value.length-1]));-1!==e&&i.itemsList.length>e+1&&(A.value=[i.itemsList[e+1]])}else if("ArrowUp"===e.code){const e=i.itemsList.findIndex((e=>e===A.value[A.value.length-1]));e>0&&(A.value=[i.itemsList[e-1]])}};return(0,l.sV)((async()=>{i.keyEventsActive&&window.addEventListener("keydown",z),await j()})),(0,l.hi)((()=>{window.removeEventListener("keydown",z)})),(t,i)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",{style:(0,a.Tr)(e.height?`height:${e.height}px`:""),class:(0,a.C4)(["container",{"grid-container":"preview"===y.value}]),onMousedown:Y},[(0,l.Lk)("span",{class:"input-placeholder",ref_key:"fileNameToChangeSpanRef",ref:M},(0,a.v_)((0,n.R1)(s.lA)(B.value)),513),"list"===y.value&&e.showProperties?((0,l.uX)(),(0,l.CE)("div",m,k)):(0,l.Q3)("",!0),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(Q.value,(t=>((0,l.uX)(),(0,l.CE)("div",{class:(0,a.C4)({"cut-item":O(t.path)}),draggable:"true",key:`item-${t.path}`,onDblclick:e=>q(t.path),onDragstart:N,onMousedown:(0,o.D$)((e=>V(t.path)),["stop"]),onContextmenu:(0,o.D$)((e=>W(e,t.path)),["right"])},["preview"===y.value?((0,l.uX)(),(0,l.CE)("div",{key:0,draggable:"true",onDragstart:N},[(0,l.bF)(u.A,{selected:A.value.includes(t.path),height:60,filePath:t.path},null,8,["selected","filePath"]),(0,l.Lk)("div",{class:(0,a.C4)([A.value.includes(t.path)?"file-text-preview-selected":"","file-text-preview"])},[A.value.includes(t.path)&&X.value&&e.canRename?(0,l.bo)(((0,l.uX)(),(0,l.CE)("textarea",{key:0,ref_for:!0,ref_key:"fileNameInputRef",ref:K,onKeyup:(0,o.jR)((e=>U(t.path)),["enter"]),onBlur:e=>U(t.path),rows:"2",class:"no-outline file-text-preview","onUpdate:modelValue":i[0]||(i[0]=e=>B.value=e)},null,40,C)),[[o.Jo,B.value]]):((0,l.uX)(),(0,l.CE)("div",L,(0,a.v_)((0,n.R1)(s.lA)(t.path)),1))],2)],32)):(0,l.Q3)("",!0),"list"===y.value?((0,l.uX)(),(0,l.CE)("div",{key:1,class:(0,a.C4)(["flex-align-center list-folder-item",{"selected-item":A.value.includes(t.path)}]),draggable:"true"},[(0,l.Lk)("div",x,[(0,l.bF)(u.A,{class:"file-icon",noStyle:!0,height:18,filePath:t.path},null,8,["filePath"]),A.value.includes(t.path)&&X.value&&e.canRename?((0,l.uX)(),(0,l.CE)("span",D,[(0,l.bo)((0,l.Lk)("input",{ref_for:!0,ref_key:"fileNameInputRef",ref:K,class:"file-text no-outline","onUpdate:modelValue":i[1]||(i[1]=e=>B.value=e),onKeyup:[(0,o.jR)((e=>U(t.path)),["enter"]),i[2]||(i[2]=(0,o.jR)((e=>X.value=!1),["esc"]))],onBlur:e=>U(t.path),type:"text",style:(0,a.Tr)(`width:${S.value}px`)},null,44,R),[[o.Jo,B.value]])])):((0,l.uX)(),(0,l.CE)("div",E,(0,a.v_)((0,n.R1)(s.lA)(t.path)),1))]),e.showProperties&&t.properties?((0,l.uX)(),(0,l.CE)("div",F,(0,a.v_)((0,n.R1)(p.Xc)(t.properties.ctime,T.value))+" "+(0,a.v_)((0,n.R1)(p.ub)(t.properties.ctime,$.value)),1)):(0,l.Q3)("",!0),e.showProperties&&t.properties?((0,l.uX)(),(0,l.CE)("div",b,(0,a.v_)((0,n.R1)(d)(t.properties.size)),1)):(0,l.Q3)("",!0)],2)):(0,l.Q3)("",!0)],42,w)))),128))],38),e.canChangeViewType?((0,l.uX)(),(0,l.CE)("div",_,[(0,l.Lk)("div",P,(0,a.v_)(e.itemsList.length)+" item"+(0,a.v_)(e.itemsList.length>1?"s":""),1),(0,l.Lk)("div",I,[(0,l.Lk)("span",{class:(0,a.C4)(["mdi mdi-format-list-bulleted preview-icon",{"preview-icon-selected":"list"===y.value}]),onClick:i[3]||(i[3]=e=>y.value="list")},null,2),(0,l.Lk)("span",{class:(0,a.C4)(["mdi mdi-card-outline preview-icon",{"preview-icon-selected":"preview"===y.value}]),onClick:i[4]||(i[4]=e=>y.value="preview")},null,2)])])):(0,l.Q3)("",!0)],64))}}),X=i(71241);const B=(0,X.A)(A,[["__scopeId","data-v-d84fbee0"]]);var K=B},27313:function(e,t,i){i.d(t,{A:function(){return g}});var l=i(56768),a=i(24232),n=i(90144),o=i(92759),s=i(26014);const u=e=>((0,l.Qi)("data-v-37fc0299"),e=e(),(0,l.jt)(),e),r=u((()=>(0,l.Lk)("div",{class:"title-text"},"Favourites",-1))),c=["onClick"],d={class:"medium-font"},p=u((()=>(0,l.Lk)("div",{class:"title-text"},"Cloud",-1))),v=u((()=>(0,l.Lk)("div",{class:"favourite-item"},[(0,l.Lk)("span",{class:(0,a.C4)("mdi mdi-cloud mdi-18 favourite-icon")}),(0,l.Lk)("span",{class:"medium-font"},"Share folder ")],-1)));var h=(0,l.pM)({__name:"FavouritesPanel",props:{pathSelected:{type:String,default:""},height:{type:Number,required:!1}},emits:["onFavouriteSelect"],setup(e,{emit:t}){const i=t,u=(0,s.C)(),h=(0,l.EW)((()=>u.favouritesPathListAndIcon)),m=e=>{i("onFavouriteSelect",e)};return(t,i)=>h.value?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"left-panel",style:(0,a.Tr)(e.height?`height:${e.height-2}px`:"")},[r,((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(h.value,(t=>((0,l.uX)(),(0,l.CE)("div",{class:(0,a.C4)(["favourite-item",e.pathSelected===t.path?"favourite-item-selected":""]),key:"favourite-"+t,onClick:e=>m(t.path)},[(0,l.Lk)("span",{class:(0,a.C4)(`mdi ${t.mdiIcon}  favourite-icon`)},null,2),(0,l.Lk)("span",d,(0,a.v_)((0,n.R1)(o.lA)(t.path)),1)],10,c)))),128)),p,v],4)):(0,l.Q3)("",!0)}}),m=i(71241);const f=(0,m.A)(h,[["__scopeId","data-v-37fc0299"]]);var g=f}}]);
//# sourceMappingURL=6657.b01db547.js.map