"use strict";(self["webpackChunkmy_portfolio"]=self["webpackChunkmy_portfolio"]||[]).push([[8318],{77557:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var o=t(73396),i=t(87139),r=t(44870),a=t(85134),u=t(7891),l=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],c=function(e){return-1!==l.map((function(e){return e.toLowerCase()})).indexOf(e.toLowerCase())},s=function(e,n,t){Object.keys(n).filter(c).forEach((function(o){var i=n[o];"function"===typeof i&&("onInit"===o?i(e,t):t.on(o.substring(2),(function(e){return i(e,t)})))}))},d=function(e,n,t,i){var r=e.modelEvents?e.modelEvents:null,a=Array.isArray(r)?r.join(" "):r;(0,o.YP)(i,(function(n,o){t&&"string"===typeof n&&n!==o&&n!==t.getContent({format:e.outputFormat})&&t.setContent(n)})),t.on(a||"change input undo redo",(function(){n.emit("update:modelValue",t.getContent({format:e.outputFormat}))}))},f=function(e,n,t,o,i,r){o.setContent(r()),t.attrs["onUpdate:modelValue"]&&d(n,t,o,i),s(e,t.attrs,o)},p=0,v=function(e){var n=Date.now(),t=Math.floor(1e9*Math.random());return p++,e+"_"+t+p+String(n)},g=function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()},m=function(e){return"undefined"===typeof e||""===e?[]:Array.isArray(e)?e:e.split(" ")},y=function(e,n){return m(e).concat(m(n))},h=function(e){return null===e||void 0===e},b=function(){return{listeners:[],scriptId:v("tiny-script"),scriptLoaded:!1}},C=function(){var e=b(),n=function(e,n,t,o){var i=n.createElement("script");i.referrerPolicy="origin",i.type="application/javascript",i.id=e,i.src=t;var r=function(){i.removeEventListener("load",r),o()};i.addEventListener("load",r),n.head&&n.head.appendChild(i)},t=function(t,o,i){e.scriptLoaded?i():(e.listeners.push(i),t.getElementById(e.scriptId)||n(e.scriptId,t,o,(function(){e.listeners.forEach((function(e){return e()})),e.scriptLoaded=!0})))},o=function(){e=b()};return{load:t,reinitialize:o}},S=C(),w=function(){return"undefined"!==typeof window?window:t.g},D=function(){var e=w();return e&&e.tinymce?e.tinymce:null},k={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return"html"===e||"text"===e}}},j=function(){return j=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var i in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e},j.apply(this,arguments)},x=function(e,n,t,o){return e(o||"div",{id:n,ref:t})},B=function(e,n,t){return e("textarea",{id:n,visibility:"hidden",ref:t})},I=(0,o.aZ)({props:k,setup:function(e,n){var t=e.init?j({},e.init):{},i=(0,r.BK)(e),a=i.disabled,u=i.modelValue,l=i.tagName,c=(0,r.iH)(null),s=null,d=e.id||v("tiny-vue"),p=e.init&&e.init.inline||e.inline,m=!!n.attrs["onUpdate:modelValue"],b=!0,C=e.initialValue?e.initialValue:"",w="",k=function(e){return m?function(){return(null===u||void 0===u?void 0:u.value)?u.value:""}:function(){return e?C:w}},I=function(){var o=k(b),i=j(j({},t),{readonly:e.disabled,selector:"#"+d,plugins:y(t.plugins,e.plugins),toolbar:e.toolbar||t.toolbar,inline:p,setup:function(i){s=i,i.on("init",(function(t){return f(t,e,n,i,u,o)})),"function"===typeof t.setup&&t.setup(i)}});g(c.value)&&(c.value.style.visibility=""),D().init(i),b=!1};(0,o.YP)(a,(function(e){var n;null!==s&&("function"===typeof(null===(n=s.mode)||void 0===n?void 0:n.set)?s.mode.set(e?"readonly":"design"):s.setMode(e?"readonly":"design"))})),(0,o.YP)(l,(function(e){var n;m||(w=s.getContent()),null===(n=D())||void 0===n||n.remove(s),(0,o.Y3)((function(){return I()}))})),(0,o.bv)((function(){if(null!==D())I();else if(c.value&&c.value.ownerDocument){var n=e.cloudChannel?e.cloudChannel:"6",t=e.apiKey?e.apiKey:"no-api-key",o=h(e.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+t+"/tinymce/"+n+"/tinymce.min.js":e.tinymceScriptSrc;S.load(c.value.ownerDocument,o,I)}})),(0,o.Jd)((function(){null!==D()&&D().remove(s)})),p||((0,o.dl)((function(){b||I()})),(0,o.se)((function(){var e;m||(w=s.getContent()),null===(e=D())||void 0===e||e.remove(s)})));var O=function(e){var n;w=s.getContent(),null===(n=D())||void 0===n||n.remove(s),t=j(j({},t),e),(0,o.Y3)((function(){return I()}))};return n.expose({rerender:O}),function(){return p?x(o.h,d,c,e.tagName):B(o.h,d,c)}}}),O=I,F=t(59025),A=t(67250),E=t(6896),P=t(15083),M=t(67695),U=t(57570),L=(0,o.aZ)({props:{itemDialog:{type:Object,required:!0},height:{type:Number,required:!0}},setup(e){const n=e,t=(0,E.E)(),l=(0,M.H)(),{isBase64:c,b64ToText:s,utf8ToB64:d,removeDataUri:f}=(0,U.Z)(),p=(0,r.iH)(""),v=(0,r.iH)(!1),g=(0,r.iH)(!1),m=(0,r.iH)(""),y=(e,t,o)=>{n.itemDialog?.path?l.updateFile({path:n.itemDialog?.path,content:d(e.content)}):(m.value=e.content,g.value=!0)},h=async e=>{const o=e+".txt";await l.createFile({path:o,content:d(m.value)}),g.value=!1;const i=Object.assign({},n.itemDialog);i.name=(0,A.Bc)(o),l.updateItemDialog(i),l.refreshAllItemDialogFiles(),l.fetchDesktopItems(),t.setSnackBar({show:!0,text:`"${(0,A.Bc)(o)}" created.`,severity:P.bI.information})};return(0,o.wF)((async()=>{if(n.itemDialog?.path){let e=await F.Z.readFile(n.itemDialog?.path);p.value=s(e,!0),v.value=!0}else p.value="",v.value=!0})),(n,t)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[g.value?((0,o.wg)(),(0,o.j4)(a.Z,{key:0,onOnFolderSelected:h,onCloseDialog:t[0]||(t[0]=e=>g.value=!1),to:"textFileItem",showSaveAsInput:!0})):(0,o.kq)("",!0),e.itemDialog.isFocused?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(u.Z,{key:1,height:e.height-5},null,8,["height"])),(0,o._)("div",{id:"textFileItem",style:(0,i.j5)(`height: ${e.height-5}px; width: calc(100% -4px);`)},[v.value?((0,o.wg)(),(0,o.j4)((0,r.SU)(O),{key:0,class:"mce-editor","api-key":"yxb2ealwgpgr85gcgcl311khnyuz4abs13akcuyqscr4y6fr",init:{height:"100%",resize:!1,selector:"textarea",plugins:"save",menubar:!1,toolbar:"save | undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | outdent indent |            bullist numlist outdent indent | removeformat |"},"initial-value":p.value,onSaveContent:y},null,8,["initial-value"])):(0,o.kq)("",!0)],4)],64))}});const V=L;var Z=V},7891:function(e,n,t){t.d(n,{Z:function(){return l}});var o=t(73396),i=t(87139),r=(0,o.aZ)({props:{height:{type:Number}},setup(e){return(n,t)=>((0,o.wg)(),(0,o.iD)("div",{style:(0,i.j5)(`height: ${e.height}px; width: 100%; `),class:"detect-click-div"},null,4))}}),a=t(40089);const u=(0,a.Z)(r,[["__scopeId","data-v-7156f3d2"]]);var l=u}}]);
//# sourceMappingURL=8318.1c6181b6.js.map