"use strict";(self["webpackChunkmy_portfolio"]=self["webpackChunkmy_portfolio"]||[]).push([[86,3630],{80086:function(e,t,i){i.r(t),i.d(t,{default:function(){return b}});var l=i(73396),a=i(49242),n=i(87139),o=i(44870),s=i(59025),u=i(14468),r=i(83630),c=i(56808),d=i(8417),p=i(67695),v=i(57752),h=i(35866);function m(e){const t=(0,o.iH)(!1),i=i=>{const l=e.value?.getBoundingClientRect();l&&i.clientX<l.x+l.width&&i.clientX>l.x&&i.clientY<l.y+l.height&&i.clientY>l.y?t.value=!0:t.value=!1};return(0,l.bv)((()=>{window.addEventListener("mousemove",i)})),(0,l.Ah)((()=>{window.removeEventListener("mousemove",i)})),{isMouseOver:t}}const f=e=>((0,l.dD)("data-v-1545a696"),e=e(),(0,l.Cn)(),e),g=["id"],w={class:"flex"},y=f((()=>(0,l._)("div",{class:"mdi mdi-folder path-padding"},null,-1))),D=["onKeyup"],k=f((()=>(0,l._)("span",{class:"mdi mdi-folder path-padding"},null,-1))),_=f((()=>(0,l._)("span",{class:"mdi mdi-chevron-right path-padding"},null,-1))),x=["onClick"],C={key:0,class:"mdi mdi-chevron-right path-padding"},F={class:"flex-start"};var S=(0,l.aZ)({props:{itemDialog:{type:Object,required:!0},height:{type:Number,required:!0}},setup(e){const t=e,i=(0,p.H)(),f=(0,o.iH)(null),S=(0,o.iH)(null),P=(0,o.iH)(!1),B=(0,o.iH)(t.itemDialog?.path),{moveFilesInFolder:b,setFilesToMove:H}=(0,d.Z)(),{isMouseOver:I}=m(f);(0,l.YP)((()=>t.itemDialog),((e,t)=>{e?.path!==t?.path&&t?.path&&(B.value=t.path)}));const M=(0,l.Fl)((function(){return""!==i.dragginPath})),U=e=>{const l=Object.assign({},t.itemDialog);l.selectedFilesPath=e,i.updateItemDialog(l)},L=async e=>{const t=await s.Z.isDir(e);if(t)A(e);else{const t={path:e,coordinates:{x:0,y:0},isSelected:!0};i.createItemDialog(t)}},R=async(e,t=!1)=>{e.event.preventDefault(),e.event.stopPropagation();const l=e.event,a=t?[(0,v.ae)(l,e.filePath),(0,v.W7)(l,e.filePath),await(0,v.A)(e.filePath,!1,!1,!1)]:[...await(0,h.V)([e.filePath],e.event)];i.setActionMenu({show:!0,paths:[e.filePath],position:{x:l.clientX,y:l.clientY},customLayout:a})},Z=()=>{N(!1),B.value=t.itemDialog?.path},q=async e=>{b(e,t.itemDialog?.path||"")},A=e=>{O(),i.updateItemDialogPath({newPath:e,itemDialog:t.itemDialog}),B.value=e},z=e=>{i.renameFile(e.newName,e.oldName),K()},N=async e=>{e&&S.value&&setTimeout((()=>{S.value?.focus(),S.value?.select()}),10),P.value=e},K=()=>{i.refreshAllItemDialogFiles(),i.fetchDesktopItems()},Y=(0,l.Fl)((function(){return t.itemDialog?.path.split("/")})),E=(e,t)=>{if(void 0===e)return"";let i="";for(let l=0;l<=t;l++)0!==l&&(i+="/"),i+=e[l];return i},O=()=>{i.setFocusedItemDialog(t.itemDialog||null)};return(t,i)=>e.itemDialog?((0,l.wg)(),(0,l.iD)("div",{key:0,onClick:O,onContextmenu:i[8]||(i[8]=(0,a.iM)((t=>R({event:t,filePath:e.itemDialog?.path||""},!0)),["right"])),class:"droppable",id:e.itemDialog.path},[(0,l._)("div",{style:(0,n.j5)(`height:${e.height-5}px; position:relative`)},[(0,l._)("div",{class:"folder-actions",onClick:i[4]||(i[4]=e=>P.value=!0)},[(0,l.wy)((0,l._)("div",w,[y,(0,l.wy)((0,l._)("input",{ref_key:"fullPathInputRef",ref:S,class:"no-style-input path-input","onUpdate:modelValue":i[0]||(i[0]=e=>B.value=e),onKeyup:[i[1]||(i[1]=(0,a.D2)((e=>A(B.value||"")),["enter"])),(0,a.D2)(Z,["esc"])],onBlur:Z,type:"text"},null,40,D),[[a.nr,B.value]])],512),[[a.F8,P.value]]),(0,o.SU)(Y)?(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",{key:0,class:"flex",onMousedn:i[3]||(i[3]=e=>N(!0))},[k,_,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,o.SU)(Y),((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:"path-"+t+"-"+e,class:"flex"},[(0,l._)("div",{class:"path-item path-padding",onMousedown:i[2]||(i[2]=(0,a.iM)((()=>{}),["stop"])),onClick:(0,a.iM)((e=>A(E((0,o.SU)(Y),t))),["stop"])},(0,n.zw)(e),41,x),(0,o.SU)(Y).length>t+1?((0,l.wg)(),(0,l.iD)("span",C)):(0,l.kq)("",!0)])))),128))],544)),[[a.F8,!P.value]]):(0,l.kq)("",!0)]),(0,l._)("div",F,[(0,l.Wm)(c.Z,{height:e.height-35,onOnFavouriteSelect:i[5]||(i[5]=e=>A(e))},null,8,["height"]),(0,l.Wm)(u.Z,{dropPath:e.itemDialog.path,style:{"flex-grow":"1","overflow-x":"auto",position:"relative","padding-bottom":"30px"}},{default:(0,l.w5)((()=>[(0,l._)("div",{onMousedown:i[7]||(i[7]=e=>P.value=!1),onDrop:q,class:(0,n.C_)(["folder-item-list",{"folder-item-list-drag-over":(0,o.SU)(M)&&(0,o.SU)(I)}]),ref_key:"folderContentRef",ref:f},[(0,l.Wm)(r["default"],{itemsList:e.itemDialog.filesPath,canRename:!0,showProperties:!0,height:e.height-50-20,isFocused:e.itemDialog.isFocused,onOnDoubleClick:L,onOnRightClick:i[6]||(i[6]=e=>R(e,!1)),onRenameFileHandler:z,onOnSelectedItemsChange:U},null,8,["itemsList","height","isFocused"])],34)])),_:1},8,["dropPath"])])],4)],40,g)):(0,l.kq)("",!0)}}),P=i(40089);const B=(0,P.Z)(S,[["__scopeId","data-v-1545a696"]]);var b=B},83630:function(e,t,i){i.r(t),i.d(t,{default:function(){return R}});var l=i(73396),a=i(87139),n=i(44870),o=i(49242),s=i(67250),u=i(69754),r=i(67695),c=i(59025);const d=(e,t=2)=>{if(!+e)return"0 Bytes";const i=1024,l=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],n=Math.floor(Math.log(e)/Math.log(i));return`${parseFloat((e/Math.pow(i,n)).toFixed(l))} ${a[n]}`};var p=i(55280),v=i(95636);const h=e=>((0,l.dD)("data-v-5f452fde"),e=e(),(0,l.Cn)(),e),m={key:0,class:"flex-align-center table-header"},f=h((()=>(0,l._)("div",{style:{width:"400px"}},"Name",-1))),g=h((()=>(0,l._)("div",{style:{width:"170px"}},"Date modified",-1))),w=h((()=>(0,l._)("div",{style:{width:"100px"}},"Size",-1))),y=[f,g,w],D=["onDblclick","onMousedown","onContextmenu"],k=["onKeyup","onBlur"],_={key:1,class:"file-text-preview"},x={class:"flex",style:{width:"400px"}},C={key:0},F=["onKeyup","onBlur"],S={key:1,style:{width:"290px"},class:"file-text one-line-ellipsis noselect"},P={key:0,class:"prop-field",style:{width:"170px"}},B={key:1,class:"prop-field",style:{width:"100px"}},b={key:0,class:"footer flex"},H={class:"items-count"},I={style:{"margin-right":"15px"}};var M=(0,l.aZ)({props:{itemsList:{type:Array,required:!0},isFocused:Boolean,canRename:Boolean,keyEventsActive:{type:Boolean,default:!0},canChangeViewType:{type:Boolean,default:!0},showProperties:{type:Boolean,default:!1},height:{type:Number}},emits:["onDoubleClick","onRightClick","renameFileHandler","onItemMouseDown","onSelectedItemsChange"],setup(e,{emit:t}){const i=e,h=(0,r.H)(),f=(0,v.F)(),g=(0,n.iH)("list"),w=(0,n.iH)([]),M=(0,n.iH)(!1),U=(0,n.iH)(""),L=(0,n.iH)(null),R=(0,n.iH)(null),Z=(0,n.iH)(200),q=(0,n.iH)([]),A=(0,l.Fl)((()=>f.timeFormat)),z=(0,l.Fl)((()=>f.dateFormat));(0,l.YP)((()=>w.value),(async function(){t("onSelectedItemsChange",w.value)}));const N=()=>{console.log("Drag start")},K=async()=>{const e=[];for(const t of i.itemsList){const l=i.showProperties?await c.Z.getStat(t):void 0;e.push({path:t,properties:l})}q.value=e};(0,l.m0)((async()=>{i.itemsList&&await K()}));const Y=e=>{const t=h.filePathsToCut;return!!t.includes(e)},E=async e=>{t("onItemMouseDown",e),w.value.includes(e)&&1===w.value.length?!M.value&&i.canRename&&(U.value=(0,s.Bc)(e),setTimeout((async()=>{M.value=!M.value}),600)):(w.value=[e],M.value=!1)},O=async e=>{M.value||t("onDoubleClick",e)},T=(e,i)=>{t("onRightClick",{event:e,filePath:i})},$=e=>{t("renameFileHandler",{newName:(0,s.bn)(e)+"/"+U.value,oldName:e})},j=()=>{w.value=[],M.value=!1},V=e=>{if(i.isFocused&&w.value.length>0&&i.itemsList&&i.keyEventsActive)if("ArrowDown"===e.code){const e=i.itemsList.findIndex((e=>e===w.value[w.value.length-1]));-1!==e&&i.itemsList.length>e+1&&(w.value=[i.itemsList[e+1]])}else if("ArrowUp"===e.code){const e=i.itemsList.findIndex((e=>e===w.value[w.value.length-1]));e>0&&(w.value=[i.itemsList[e-1]])}};return(0,l.bv)((async()=>{i.keyEventsActive&&window.addEventListener("keydown",V),await K()})),(0,l.Ah)((()=>{window.removeEventListener("keydown",V)})),(t,i)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",{style:(0,a.j5)(e.height?`height:${e.height}px`:""),class:(0,a.C_)(["container",{"grid-container":"preview"===g.value}]),onMousedown:j},[(0,l._)("span",{class:"input-placeholder",ref_key:"fileNameToChangeSpanRef",ref:R},(0,a.zw)((0,n.SU)(s.Bc)(U.value)),513),"list"===g.value&&e.showProperties?((0,l.wg)(),(0,l.iD)("div",m,y)):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(q.value,(t=>((0,l.wg)(),(0,l.iD)("div",{class:(0,a.C_)({"cut-item":Y(t.path)}),draggable:"true",key:`item-${t.path}`,onDblclick:e=>O(t.path),onDragstart:N,onMousedown:(0,o.iM)((e=>E(t.path)),["stop"]),onContextmenu:(0,o.iM)((e=>T(e,t.path)),["right"])},["preview"===g.value?((0,l.wg)(),(0,l.iD)("div",{key:0,draggable:"true",onDragstart:N},[(0,l.Wm)(u.Z,{selected:w.value.includes(t.path),height:60,filePath:t.path},null,8,["selected","filePath"]),(0,l._)("div",{class:(0,a.C_)([w.value.includes(t.path)?"file-text-preview-selected":"","file-text-preview"])},[w.value.includes(t.path)&&M.value&&e.canRename?(0,l.wy)(((0,l.wg)(),(0,l.iD)("textarea",{key:0,ref_for:!0,ref_key:"fileNameInputRef",ref:L,onKeyup:(0,o.D2)((e=>$(t.path)),["enter"]),onBlur:e=>$(t.path),rows:"2",class:"no-outline file-text-preview","onUpdate:modelValue":i[0]||(i[0]=e=>U.value=e)},null,40,k)),[[o.nr,U.value]]):((0,l.wg)(),(0,l.iD)("div",_,(0,a.zw)((0,n.SU)(s.Bc)(t.path)),1))],2)],32)):(0,l.kq)("",!0),"list"===g.value?((0,l.wg)(),(0,l.iD)("div",{key:1,class:(0,a.C_)(["flex-align-center list-folder-item",{"selected-item":w.value.includes(t.path)}]),draggable:"true"},[(0,l._)("div",x,[(0,l.Wm)(u.Z,{class:"file-icon",noStyle:!0,height:18,filePath:t.path},null,8,["filePath"]),w.value.includes(t.path)&&M.value&&e.canRename?((0,l.wg)(),(0,l.iD)("span",C,[(0,l.wy)((0,l._)("input",{ref_for:!0,ref_key:"fileNameInputRef",ref:L,class:"file-text no-outline","onUpdate:modelValue":i[1]||(i[1]=e=>U.value=e),onKeyup:[(0,o.D2)((e=>$(t.path)),["enter"]),i[2]||(i[2]=(0,o.D2)((e=>M.value=!1),["esc"]))],onBlur:e=>$(t.path),type:"text",style:(0,a.j5)(`width:${Z.value}px`)},null,44,F),[[o.nr,U.value]])])):((0,l.wg)(),(0,l.iD)("div",S,(0,a.zw)((0,n.SU)(s.Bc)(t.path)),1))]),e.showProperties&&t.properties?((0,l.wg)(),(0,l.iD)("div",P,(0,a.zw)((0,n.SU)(p.Am)(t.properties.ctime,(0,n.SU)(z)))+" "+(0,a.zw)((0,n.SU)(p.rx)(t.properties.ctime,(0,n.SU)(A))),1)):(0,l.kq)("",!0),e.showProperties&&t.properties?((0,l.wg)(),(0,l.iD)("div",B,(0,a.zw)((0,n.SU)(d)(t.properties.size)),1)):(0,l.kq)("",!0)],2)):(0,l.kq)("",!0)],42,D)))),128))],38),e.canChangeViewType?((0,l.wg)(),(0,l.iD)("div",b,[(0,l._)("div",H,(0,a.zw)(e.itemsList.length)+" item"+(0,a.zw)(e.itemsList.length>1?"s":""),1),(0,l._)("div",I,[(0,l._)("span",{class:(0,a.C_)(["mdi mdi-format-list-bulleted preview-icon",{"preview-icon-selected":"list"===g.value}]),onClick:i[3]||(i[3]=e=>g.value="list")},null,2),(0,l._)("span",{class:(0,a.C_)(["mdi mdi-card-outline preview-icon",{"preview-icon-selected":"preview"===g.value}]),onClick:i[4]||(i[4]=e=>g.value="preview")},null,2)])])):(0,l.kq)("",!0)],64))}}),U=i(40089);const L=(0,U.Z)(M,[["__scopeId","data-v-5f452fde"]]);var R=L},56808:function(e,t,i){i.d(t,{Z:function(){return g}});var l=i(73396),a=i(87139),n=i(44870),o=i(67250),s=i(95636);const u=e=>((0,l.dD)("data-v-37fc0299"),e=e(),(0,l.Cn)(),e),r=u((()=>(0,l._)("div",{class:"title-text"},"Favourites",-1))),c=["onClick"],d={class:"medium-font"},p=u((()=>(0,l._)("div",{class:"title-text"},"Cloud",-1))),v=u((()=>(0,l._)("div",{class:"favourite-item"},[(0,l._)("span",{class:(0,a.C_)("mdi mdi-cloud mdi-18 favourite-icon")}),(0,l._)("span",{class:"medium-font"},"Share folder ")],-1)));var h=(0,l.aZ)({props:{pathSelected:{type:String,default:""},height:{type:Number,required:!1}},emits:["onFavouriteSelect"],setup(e,{emit:t}){const i=(0,s.F)(),u=(0,l.Fl)((()=>i.favouritesPathListAndIcon)),h=e=>{t("onFavouriteSelect",e)};return(t,i)=>(0,n.SU)(u)?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"left-panel",style:(0,a.j5)(e.height?`height:${e.height-2}px`:"")},[r,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,n.SU)(u),(t=>((0,l.wg)(),(0,l.iD)("div",{class:(0,a.C_)(["favourite-item",e.pathSelected===t.path?"favourite-item-selected":""]),key:"favourite-"+t,onClick:e=>h(t.path)},[(0,l._)("span",{class:(0,a.C_)(`mdi ${t.mdiIcon}  favourite-icon`)},null,2),(0,l._)("span",d,(0,a.zw)((0,n.SU)(o.Bc)(t.path)),1)],10,c)))),128)),p,v],4)):(0,l.kq)("",!0)}}),m=i(40089);const f=(0,m.Z)(h,[["__scopeId","data-v-37fc0299"]]);var g=f}}]);
//# sourceMappingURL=86.4bfdd2ff.js.map